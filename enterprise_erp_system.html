
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Resource Management System - DataTech Solutions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-bar {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .search-container {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 6px;
            font-size: 16px;
            min-width: 300px;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-btn {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .search-btn:hover {
            background: #5a67d8;
        }

        .autocomplete-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e1e5e9;
            border-top: none;
            border-radius: 0 0 6px 6px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }

        .autocomplete-item:hover {
            background: #f8f9fa;
        }

        .autocomplete-item.selected {
            background: #e6f3ff;
        }

        .filter-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .filter-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2d3748;
        }

        .filter-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-weight: 500;
            color: #4a5568;
            font-size: 14px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #e1e5e9;
            border-radius: 4px;
            font-size: 14px;
            min-width: 150px;
        }

        .tabs {
            display: flex;
            background: white;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }

        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
            background: #f8f9ff;
        }

        .tab:hover {
            background: #f8f9fa;
        }

        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .form-group {
            flex: 1;
            min-width: 250px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #4a5568;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #e1e5e9;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .file-upload-area {
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .file-upload-area:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .file-upload-area.dragover {
            border-color: #667eea;
            background: #e6f3ff;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
        }

        .btn-secondary {
            background: #edf2f7;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .data-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #4a5568;
            border-bottom: 1px solid #e1e5e9;
            cursor: pointer;
        }

        .data-table th:hover {
            background: #e2e8f0;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e1e5e9;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-active {
            background: #c6f6d5;
            color: #22543d;
        }

        .status-pending {
            background: #fef5e7;
            color: #c05621;
        }

        .status-inactive {
            background: #fed7d7;
            color: #742a2a;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e1e5e9;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: #667eea;
            transition: width 0.3s ease;
        }

        .notification {
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
            border-left: 4px solid;
            display: none;
        }

        .notification.success {
            background: #f0fff4;
            border-color: #48bb78;
            color: #22543d;
        }

        .notification.error {
            background: #fff5f5;
            border-color: #e53e3e;
            color: #742a2a;
        }

        .expense-item {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border: 1px solid #e1e5e9;
        }

        .expense-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .dynamic-rows {
            margin-top: 20px;
        }

        .row-item {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }

        .row-item input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #e1e5e9;
            border-radius: 4px;
        }

        .remove-row {
            background: #e53e3e;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
        }

        .remove-row:hover {
            background: #c53030;
        }

        .add-row {
            background: #48bb78;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .add-row:hover {
            background: #38a169;
        }

        .search-results {
            margin-top: 20px;
        }

        .result-item {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }

        .result-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .result-meta {
            color: #718096;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .result-snippet {
            color: #4a5568;
            line-height: 1.5;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 30px 0;
        }

        .pagination button {
            padding: 8px 12px;
            border: 1px solid #e1e5e9;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }

        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pagination button:hover:not(.active) {
            background: #f8f9fa;
        }

        .autocomplete-container {
            position: relative;
            flex: 1;
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            color: #e53e3e;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .advanced-search {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: none;
        }

        .advanced-search.active {
            display: block;
        }

        .toggle-advanced {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
        }

        .date-range {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #718096;
            font-size: 14px;
        }

        .export-controls {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            justify-content: flex-end;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .form-group {
                min-width: 100%;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .search-input {
                min-width: 100%;
            }
            
            .filter-row {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">DataTech Solutions ERP</div>
                <div class="user-info">
                    <span>Welcome, John Smith</span>
                    <button class="btn btn-secondary" data-action="logout" data-subtask="navigation">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Main Search Bar -->
        <div class="search-bar">
            <div class="search-container">
                <div class="autocomplete-container">
                    <input type="text" id="mainSearch" class="search-input" placeholder="Search employees, projects, expenses, or documents..." 
                           data-action="search" data-subtask="search_and_autocomplete" autocomplete="off">
                    <div class="autocomplete-suggestions" id="suggestions"></div>
                </div>
                <button class="search-btn" onclick="performSearch()" data-action="search_submit" data-subtask="search_and_autocomplete">
                    Search
                </button>
                <button class="toggle-advanced" onclick="toggleAdvancedSearch()" data-action="toggle_advanced" data-subtask="search_and_autocomplete">
                    Advanced Search
                </button>
                <div class="loading-spinner" id="loadingSpinner"></div>
            </div>
        </div>

        <!-- Advanced Search -->
        <div class="advanced-search" id="advancedSearch">
            <div class="filter-title">Advanced Search Options</div>
            <div class="filter-row">
                <div class="filter-group">
                    <label class="filter-label">Search Type</label>
                    <select class="filter-select" id="searchType" data-action="filter_change" data-subtask="search_and_autocomplete">
                        <option value="all">All Content</option>
                        <option value="employees">Employees Only</option>
                        <option value="projects">Projects Only</option>
                        <option value="expenses">Expenses Only</option>
                        <option value="documents">Documents Only</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Department</label>
                    <select class="filter-select" id="departmentFilter" data-action="department_filter" data-subtask="search_and_autocomplete">
                        <option value="">All Departments</option>
                        <option value="engineering">Engineering</option>
                        <option value="marketing">Marketing</option>
                        <option value="finance">Finance</option>
                        <option value="hr">Human Resources</option>
                        <option value="sales">Sales</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Status</label>
                    <select class="filter-select" id="statusFilter" data-action="status_filter" data-subtask="search_and_autocomplete">
                        <option value="">All Statuses</option>
                        <option value="active">Active</option>
                        <option value="pending">Pending</option>
                        <option value="inactive">Inactive</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Date Range</label>
                    <div class="date-range">
                        <input type="date" id="dateFrom" data-action="date_from" data-subtask="search_and_autocomplete">
                        <span>to</span>
                        <input type="date" id="dateTo" data-action="date_to" data-subtask="search_and_autocomplete">
                    </div>
                </div>
            </div>
            <div class="filter-row">
                <button class="btn btn-primary" onclick="applyAdvancedSearch()" data-action="apply_advanced_search" data-subtask="search_and_autocomplete">
                    Apply Filters
                </button>
                <button class="btn btn-secondary" onclick="clearAdvancedSearch()" data-action="clear_advanced_search" data-subtask="search_and_autocomplete">
                    Clear All
                </button>
            </div>
        </div>

        <!-- Search Results -->
        <div class="search-results" id="searchResults" style="display: none;">
            <div class="filter-title">Search Results</div>
            <div class="export-controls">
                <button class="btn btn-secondary" onclick="exportResults('csv')" data-action="export_csv" data-subtask="search_and_autocomplete">
                    Export CSV
                </button>
                <button class="btn btn-secondary" onclick="exportResults('pdf')" data-action="export_pdf" data-subtask="search_and_autocomplete">
                    Export PDF
                </button>
            </div>
            <div id="resultsContainer"></div>
            <div class="pagination" id="pagination"></div>
        </div>

        <!-- Statistics Dashboard -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">1,247</div>
                <div class="stat-label">Total Employees</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">89</div>
                <div class="stat-label">Active Projects</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">$2.4M</div>
                <div class="stat-label">Monthly Expenses</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">156</div>
                <div class="stat-label">Pending Approvals</div>
            </div>
        </div>

        <!-- Tabbed Interface -->
        <div class="tabs">
            <div class="tab active" data-tab="employees" data-action="tab_switch" data-subtask="navigation">Employee Management</div>
            <div class="tab" data-tab="projects" data-action="tab_switch" data-subtask="navigation">Project Tracking</div>
            <div class="tab" data-tab="expenses" data-action="tab_switch" data-subtask="navigation">Expense Reports</div>
            <div class="tab" data-tab="documents" data-action="tab_switch" data-subtask="navigation">Document Center</div>
        </div>

        <!-- Employee Management Tab -->
        <div class="tab-content active" id="employees-tab">
            <div class="filter-section">
                <div class="filter-title">Employee Filters</div>
                <div class="filter-row">
                    <div class="filter-group">
                        <label class="filter-label">Department</label>
                        <select class="filter-select" id="empDepartment" data-action="employee_department_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Departments</option>
                            <option value="engineering">Engineering</option>
                            <option value="marketing">Marketing</option>
                            <option value="finance">Finance</option>
                            <option value="hr">Human Resources</option>
                            <option value="sales">Sales</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Role</label>
                        <select class="filter-select" id="empRole" data-action="employee_role_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Roles</option>
                            <option value="manager">Manager</option>
                            <option value="senior">Senior</option>
                            <option value="junior">Junior</option>
                            <option value="intern">Intern</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Status</label>
                        <select class="filter-select" id="empStatus" data-action="employee_status_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Statuses</option>
                            <option value="active">Active</option>
                            <option value="on_leave">On Leave</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="filterEmployees()" data-action="apply_employee_filters" data-subtask="search_and_autocomplete">
                        Apply Filters
                    </button>
                </div>
            </div>

            <form id="employeeForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="empFirstName">First Name *</label>
                        <input type="text" id="empFirstName" required data-action="input_text" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="empLastName">Last Name *</label>
                        <input type="text" id="empLastName" required data-action="input_text" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="empEmail">Email Address *</label>
                        <input type="email" id="empEmail" required data-action="input_email" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="empPhone">Phone Number</label>
                        <input type="tel" id="empPhone" data-action="input_tel" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="empDept">Department *</label>
                        <select id="empDept" required data-action="select_department" data-subtask="form_filling">
                            <option value="">Select Department</option>
                            <option value="engineering">Engineering</option>
                            <option value="marketing">Marketing</option>
                            <option value="finance">Finance</option>
                            <option value="hr">Human Resources</option>
                            <option value="sales">Sales</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="empPosition">Position *</label>
                        <select id="empPosition" required data-action="select_position" data-subtask="form_filling">
                            <option value="">Select Position</option>
                            <option value="manager">Manager</option>
                            <option value="senior_developer">Senior Developer</option>
                            <option value="developer">Developer</option>
                            <option value="junior_developer">Junior Developer</option>
                            <option value="analyst">Analyst</option>
                            <option value="coordinator">Coordinator</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="empHireDate">Hire Date *</label>
                        <input type="date" id="empHireDate" required data-action="input_date" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="empSalary">Annual Salary</label>
                        <input type="number" id="empSalary" min="0" step="1000" data-action="input_number" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Employment Type *</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="fullTime" name="empType" value="full_time" required data-action="radio_select" data-subtask="form_filling">
                                <label for="fullTime">Full Time</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="partTime" name="empType" value="part_time" required data-action="radio_select" data-subtask="form_filling">
                                <label for="partTime">Part Time</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="contract" name="empType" value="contract" required data-action="radio_select" data-subtask="form_filling">
                                <label for="contract">Contract</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Benefits</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="healthInsurance" name="benefits" value="health" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="healthInsurance">Health Insurance</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dentalInsurance" name="benefits" value="dental" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="dentalInsurance">Dental Insurance</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="retirementPlan" name="benefits" value="401k" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="retirementPlan">401(k) Plan</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="visionInsurance" name="benefits" value="vision" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="visionInsurance">Vision Insurance</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="empNotes">Additional Notes</label>
                        <textarea id="empNotes" rows="4" data-action="textarea_input" data-subtask="form_filling"></textarea>
                    </div>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_filling">Add Employee</button>
                    <button type="reset" class="btn btn-secondary" data-action="form_reset" data-subtask="form_filling">Reset Form</button>
                </div>
            </form>

            <table class="data-table" id="employeeTable">
                <thead>
                    <tr>
                        <th data-sort="name" data-action="sort_column" data-subtask="table_interaction">Name ↕</th>
                        <th data-sort="email" data-action="sort_column" data-subtask="table_interaction">Email ↕</th>
                        <th data-sort="department" data-action="sort_column" data-subtask="table_interaction">Department ↕</th>
                        <th data-sort="position" data-action="sort_column" data-subtask="table_interaction">Position ↕</th>
                        <th data-sort="hire_date" data-action="sort_column" data-subtask="table_interaction">Hire Date ↕</th>
                        <th data-sort="status" data-action="sort_column" data-subtask="table_interaction">Status ↕</th>
                        <th data-action="table_actions" data-subtask="table_interaction">Actions</th>
                    </tr>
                </thead>
                <tbody id="employeeTableBody">
                    <tr>
                        <td>Alice Johnson</td>
                        <td>alice.johnson@datatech.com</td>
                        <td>Engineering</td>
                        <td>Senior Developer</td>
                        <td>2022-01-15</td>
                        <td><span class="status-badge status-active">Active</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editEmployee(1)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteEmployee(1)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Bob Smith</td>
                        <td>bob.smith@datatech.com</td>
                        <td>Marketing</td>
                        <td>Manager</td>
                        <td>2021-09-10</td>
                        <td><span class="status-badge status-active">Active</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editEmployee(2)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteEmployee(2)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Carol Williams</td>
                        <td>carol.williams@datatech.com</td>
                        <td>Finance</td>
                        <td>Analyst</td>
                        <td>2023-03-22</td>
                        <td><span class="status-badge status-pending">On Leave</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editEmployee(3)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteEmployee(3)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Project Tracking Tab -->
        <div class="tab-content" id="projects-tab">
            <form id="projectForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="projectName">Project Name *</label>
                        <input type="text" id="projectName" required data-action="input_text" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="projectManager">Project Manager *</label>
                        <select id="projectManager" required data-action="select_manager" data-subtask="form_filling">
                            <option value="">Select Manager</option>
                            <option value="alice_johnson">Alice Johnson</option>
                            <option value="bob_smith">Bob Smith</option>
                            <option value="carol_williams">Carol Williams</option>
                            <option value="david_brown">David Brown</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="projectStartDate">Start Date *</label>
                        <input type="date" id="projectStartDate" required data-action="input_date" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="projectEndDate">End Date *</label>
                        <input type="date" id="projectEndDate" required data-action="input_date" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="projectBudget">Budget</label>
                        <input type="number" id="projectBudget" min="0" step="1000" data-action="input_number" data-subtask="form_filling">
                    </div>
                    <div class="form-group">
                        <label for="projectPriority">Priority *</label>
                        <select id="projectPriority" required data-action="select_priority" data-subtask="form_filling">
                            <option value="">Select Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="projectDescription">Description</label>
                        <textarea id="projectDescription" rows="4" data-action="textarea_input" data-subtask="form_filling"></textarea>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Project Status</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="statusPlanning" name="projectStatus" value="planning" required data-action="radio_select" data-subtask="form_filling">
                                <label for="statusPlanning">Planning</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="statusInProgress" name="projectStatus" value="in_progress" required data-action="radio_select" data-subtask="form_filling">
                                <label for="statusInProgress">In Progress</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="statusOnHold" name="projectStatus" value="on_hold" required data-action="radio_select" data-subtask="form_filling">
                                <label for="statusOnHold">On Hold</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="statusCompleted" name="projectStatus" value="completed" required data-action="radio_select" data-subtask="form_filling">
                                <label for="statusCompleted">Completed</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_filling">Create Project</button>
                    <button type="reset" class="btn btn-secondary" data-action="form_reset" data-subtask="form_filling">Reset Form</button>
                </div>
            </form>

            <div class="dynamic-rows">
                <div class="filter-title">Project Milestones</div>
                <div id="milestonesContainer">
                    <div class="row-item">
                        <input type="text" placeholder="Milestone Name" data-action="input_text" data-subtask="dynamic_content">
                        <input type="date" placeholder="Due Date" data-action="input_date" data-subtask="dynamic_content">
                        <select data-action="select_status" data-subtask="dynamic_content">
                            <option value="not_started">Not Started</option>
                            <option value="in_progress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>
                        <button class="remove-row" onclick="removeMilestone(this)" data-action="remove_row" data-subtask="dynamic_content">Remove</button>
                    </div>
                </div>
                <button class="add-row" onclick="addMilestone()" data-action="add_row" data-subtask="dynamic_content">Add Milestone</button>
            </div>

            <table class="data-table" id="projectTable">
                <thead>
                    <tr>
                        <th data-sort="name" data-action="sort_column" data-subtask="table_interaction">Project Name ↕</th>
                        <th data-sort="manager" data-action="sort_column" data-subtask="table_interaction">Manager ↕</th>
                        <th data-sort="start_date" data-action="sort_column" data-subtask="table_interaction">Start Date ↕</th>
                        <th data-sort="end_date" data-action="sort_column" data-subtask="table_interaction">End Date ↕</th>
                        <th data-sort="budget" data-action="sort_column" data-subtask="table_interaction">Budget ↕</th>
                        <th data-sort="status" data-action="sort_column" data-subtask="table_interaction">Status ↕</th>
                        <th data-action="table_actions" data-subtask="table_interaction">Progress</th>
                    </tr>
                </thead>
                <tbody id="projectTableBody">
                    <tr>
                        <td>Website Redesign</td>
                        <td>Alice Johnson</td>
                        <td>2024-01-01</td>
                        <td>2024-06-30</td>
                        <td>$50,000</td>
                        <td><span class="status-badge status-active">In Progress</span></td>
                        <td>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 65%"></div>
                            </div>
                            65%
                        </td>
                    </tr>
                    <tr>
                        <td>Mobile App Development</td>
                        <td>Bob Smith</td>
                        <td>2024-02-15</td>
                        <td>2024-08-15</td>
                        <td>$75,000</td>
                        <td><span class="status-badge status-active">In Progress</span></td>
                        <td>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 30%"></div>
                            </div>
                            30%
                        </td>
                    </tr>
                    <tr>
                        <td>Marketing Campaign</td>
                        <td>Carol Williams</td>
                        <td>2024-03-01</td>
                        <td>2024-05-31</td>
                        <td>$25,000</td>
                        <td><span class="status-badge status-pending">Planning</span></td>
                        <td>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 10%"></div>
                            </div>
                            10%
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Expense Reports Tab -->
        <div class="tab-content" id="expenses-tab">
            <form id="expenseForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseEmployee">Employee *</label>
                        <select id="expenseEmployee" required data-action="select_employee" data-subtask="form_filling">
                            <option value="">Select Employee</option>
                            <option value="alice_johnson">Alice Johnson</option>
                            <option value="bob_smith">Bob Smith</option>
                            <option value="carol_williams">Carol Williams</option>
                            <option value="david_brown">David Brown</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expenseDate">Expense Date *</label>
                        <input type="date" id="expenseDate" required data-action="input_date" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseCategory">Category *</label>
                        <select id="expenseCategory" required data-action="select_category" data-subtask="form_filling">
                            <option value="">Select Category</option>
                            <option value="travel">Travel</option>
                            <option value="meals">Meals & Entertainment</option>
                            <option value="office_supplies">Office Supplies</option>
                            <option value="software">Software/Subscriptions</option>
                            <option value="training">Training & Development</option>
                            <option value="equipment">Equipment</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expenseAmount">Amount *</label>
                        <input type="number" id="expenseAmount" min="0" step="0.01" required data-action="input_number" data-subtask="form_filling">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseDescription">Description *</label>
                        <textarea id="expenseDescription" rows="3" required data-action="textarea_input" data-subtask="form_filling"></textarea>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="expenseReceipt">Receipt Upload</label>
                        <div class="file-upload-area" onclick="document.getElementById('expenseReceipt').click()" data-action="file_upload_click" data-subtask="file_upload">
                            <input type="file" id="expenseReceipt" accept=".jpg,.jpeg,.png,.pdf" style="display: none;" data-action="file_upload" data-subtask="file_upload">
                            <div>Click to upload receipt or drag and drop</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">JPG, PNG, PDF up to 10MB</div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Reimbursement Status</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="reimbursePending" name="reimburseStatus" value="pending" required data-action="radio_select" data-subtask="form_filling">
                                <label for="reimbursePending">Pending</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reimburseApproved" name="reimburseStatus" value="approved" required data-action="radio_select" data-subtask="form_filling">
                                <label for="reimburseApproved">Approved</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reimburseRejected" name="reimburseStatus" value="rejected" required data-action="radio_select" data-subtask="form_filling">
                                <label for="reimburseRejected">Rejected</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Expense Type</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="businessExpense" name="expenseType" value="business" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="businessExpense">Business Expense</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="clientExpense" name="expenseType" value="client" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="clientExpense">Client Related</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="urgentExpense" name="expenseType" value="urgent" data-action="checkbox_select" data-subtask="form_filling">
                                <label for="urgentExpense">Urgent</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_filling">Submit Expense</button>
                    <button type="reset" class="btn btn-secondary" data-action="form_reset" data-subtask="form_filling">Reset Form</button>
                </div>
            </form>

            <div class="dynamic-rows">
                <div class="filter-title">Expense Line Items</div>
                <div id="expenseItemsContainer">
                    <div class="row-item">
                        <input type="text" placeholder="Item Description" data-action="input_text" data-subtask="dynamic_content">
                        <input type="number" placeholder="Quantity" min="1" data-action="input_number" data-subtask="dynamic_content">
                        <input type="number" placeholder="Unit Price" step="0.01" data-action="input_number" data-subtask="dynamic_content">
                        <input type="number" placeholder="Total" readonly data-action="input_readonly" data-subtask="dynamic_content">
                        <button class="remove-row" onclick="removeExpenseItem(this)" data-action="remove_row" data-subtask="dynamic_content">Remove</button>
                    </div>
                </div>
                <button class="add-row" onclick="addExpenseItem()" data-action="add_row" data-subtask="dynamic_content">Add Line Item</button>
            </div>

            <table class="data-table" id="expenseTable">
                <thead>
                    <tr>
                        <th data-sort="employee" data-action="sort_column" data-subtask="table_interaction">Employee ↕</th>
                        <th data-sort="date" data-action="sort_column" data-subtask="table_interaction">Date ↕</th>
                        <th data-sort="category" data-action="sort_column" data-subtask="table_interaction">Category ↕</th>
                        <th data-sort="amount" data-action="sort_column" data-subtask="table_interaction">Amount ↕</th>
                        <th data-sort="status" data-action="sort_column" data-subtask="table_interaction">Status ↕</th>
                        <th data-action="table_actions" data-subtask="table_interaction">Receipt</th>
                        <th data-action="table_actions" data-subtask="table_interaction">Actions</th>
                    </tr>
                </thead>
                <tbody id="expenseTableBody">
                    <tr>
                        <td>Alice Johnson</td>
                        <td>2024-01-15</td>
                        <td>Travel</td>
                        <td>$425.00</td>
                        <td><span class="status-badge status-active">Approved</span></td>
                        <td><button class="btn btn-secondary" onclick="viewReceipt(1)" data-action="view_receipt" data-subtask="table_interaction">View</button></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editExpense(1)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteExpense(1)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Bob Smith</td>
                        <td>2024-01-20</td>
                        <td>Meals & Entertainment</td>
                        <td>$85.50</td>
                        <td><span class="status-badge status-pending">Pending</span></td>
                        <td><button class="btn btn-secondary" onclick="viewReceipt(2)" data-action="view_receipt" data-subtask="table_interaction">View</button></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editExpense(2)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteExpense(2)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Carol Williams</td>
                        <td>2024-01-18</td>
                        <td>Office Supplies</td>
                        <td>$156.75</td>
                        <td><span class="status-badge status-inactive">Rejected</span></td>
                        <td><button class="btn btn-secondary" onclick="viewReceipt(3)" data-action="view_receipt" data-subtask="table_interaction">View</button></td>
                        <td>
                            <button class="btn btn-secondary" onclick="editExpense(3)" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                            <button class="btn btn-secondary" onclick="deleteExpense(3)" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Document Center Tab -->
        <div class="tab-content" id="documents-tab">
            <div class="filter-section">
                <div class="filter-title">Document Filters</div>
                <div class="filter-row">
                    <div class="filter-group">
                        <label class="filter-label">Document Type</label>
                        <select class="filter-select" id="docType" data-action="document_type_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Types</option>
                            <option value="policy">Policy Documents</option>
                            <option value="contract">Contracts</option>
                            <option value="invoice">Invoices</option>
                            <option value="report">Reports</option>
                            <option value="presentation">Presentations</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Department</label>
                        <select class="filter-select" id="docDepartment" data-action="document_department_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Departments</option>
                            <option value="engineering">Engineering</option>
                            <option value="marketing">Marketing</option>
                            <option value="finance">Finance</option>
                            <option value="hr">Human Resources</option>
                            <option value="legal">Legal</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Access Level</label>
                        <select class="filter-select" id="docAccess" data-action="document_access_filter" data-subtask="search_and_autocomplete">
                            <option value="">All Access Levels</option>
                            <option value="public">Public</option>
                            <option value="internal">Internal</option>
                            <option value="confidential">Confidential</option>
                            <option value="restricted">Restricted</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="filterDocuments()" data-action="apply_document_filters" data-subtask="search_and_autocomplete">
                        Apply Filters
                    </button>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="documentTitle">Document Title *</label>
                    <input type="text" id="documentTitle" required data-action="input_text" data-subtask="form_filling">
                </div>
                <div class="form-group">
                    <label for="documentType">Document Type *</label>
                    <select id="documentType" required data-action="select_document_type" data-subtask="form_filling">
                        <option value="">Select Type</option>
                        <option value="policy">Policy Document</option>
                        <option value="contract">Contract</option>
                        <option value="invoice">Invoice</option>
                        <option value="report">Report</option>
                        <option value="presentation">Presentation</option>
                        <option value="manual">Manual</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="documentFile">Upload Document *</label>
                    <div class="file-upload-area" onclick="document.getElementById('documentFile').click()" data-action="file_upload_click" data-subtask="file_upload">
                        <input type="file" id="documentFile" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx" style="display: none;" data-action="file_upload" data-subtask="file_upload">
                        <div>Click to upload document or drag and drop</div>
                        <div style="font-size: 14px; color: #666; margin-top: 5px;">PDF, DOC, XLS, PPT up to 50MB</div>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="documentTags">Tags (comma-separated)</label>
                    <input type="text" id="documentTags" placeholder="e.g., hr, policy, employee handbook" data-action="input_text" data-subtask="form_filling">
                </div>
                <div class="form-group">
                    <label for="documentAccess">Access Level *</label>
                    <select id="documentAccess" required data-action="select_access_level" data-subtask="form_filling">
                        <option value="">Select Access Level</option>
                        <option value="public">Public</option>
                        <option value="internal">Internal</option>
                        <option value="confidential">Confidential</option>
                        <option value="restricted">Restricted</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="documentDescription">Description</label>
                    <textarea id="documentDescription" rows="3" data-action="textarea_input" data-subtask="form_filling"></textarea>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Notification Settings</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="notifyUpload" name="notifications" value="upload" data-action="checkbox_select" data-subtask="form_filling">
                            <label for="notifyUpload">Notify on Upload</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="notifyUpdate" name="notifications" value="update" data-action="checkbox_select" data-subtask="form_filling">
                            <label for="notifyUpdate">Notify on Updates</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="notifyExpiry" name="notifications" value="expiry" data-action="checkbox_select" data-subtask="form_filling">
                            <label for="notifyExpiry">Notify on Expiry</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <button type="submit" class="btn btn-primary" onclick="uploadDocument()" data-action="form_submit" data-subtask="form_filling">Upload Document</button>
                <button type="reset" class="btn btn-secondary" onclick="resetDocumentForm()" data-action="form_reset" data-subtask="form_filling">Reset Form</button>
            </div>

            <table class="data-table" id="documentTable">
                <thead>
                    <tr>
                        <th data-sort="title" data-action="sort_column" data-subtask="table_interaction">Title ↕</th>
                        <th data-sort="type" data-action="sort_column" data-subtask="table_interaction">Type ↕</th>
                        <th data-sort="uploaded_by" data-action="sort_column" data-subtask="table_interaction">Uploaded By ↕</th>
                        <th data-sort="upload_date" data-action="sort_column" data-subtask="table_interaction">Upload Date ↕</th>
                        <th data-sort="size" data-action="sort_column" data-subtask="table_interaction">Size ↕</th>
                        <th data-sort="access" data-action="sort_column" data-subtask="table_interaction">Access ↕</th>
                        <th data-action="table_actions" data-subtask="table_interaction">Actions</th>
                    </tr>
                </thead>
                <tbody id="documentTableBody">
                    <tr>
                        <td>Employee Handbook 2024</td>
                        <td>Policy Document</td>
                        <td>HR Admin</td>
                        <td>2024-01-01</td>
                        <td>2.5 MB</td>
                        <td><span class="status-badge status-active">Internal</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="downloadDocument(1)" data-action="download_document" data-subtask="table_interaction">Download</button>
                            <button class="btn btn-secondary" onclick="shareDocument(1)" data-action="share_document" data-subtask="table_interaction">Share</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Q4 Financial Report</td>
                        <td>Report</td>
                        <td>Finance Team</td>
                        <td>2024-01-15</td>
                        <td>5.2 MB</td>
                        <td><span class="status-badge status-pending">Confidential</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="downloadDocument(2)" data-action="download_document" data-subtask="table_interaction">Download</button>
                            <button class="btn btn-secondary" onclick="shareDocument(2)" data-action="share_document" data-subtask="table_interaction">Share</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Software License Agreement</td>
                        <td>Contract</td>
                        <td>Legal Team</td>
                        <td>2024-01-20</td>
                        <td>1.8 MB</td>
                        <td><span class="status-badge status-inactive">Restricted</span></td>
                        <td>
                            <button class="btn btn-secondary" onclick="downloadDocument(3)" data-action="download_document" data-subtask="table_interaction">Download</button>
                            <button class="btn btn-secondary" onclick="shareDocument(3)" data-action="share_document" data-subtask="table_interaction">Share</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Notifications -->
    <div class="notification success" id="successNotification">
        Operation completed successfully!
    </div>
    <div class="notification error" id="errorNotification">
        An error occurred. Please try again.
    </div>

    <script>
        // Global variables
        let currentTab = 'employees';
        let searchResults = [];
        let currentPage = 1;
        let itemsPerPage = 10;
        let sortColumn = null;
        let sortDirection = 'asc';

        // Sample data for autocomplete
        const searchData = [
            'Alice Johnson - Engineering',
            'Bob Smith - Marketing',
            'Carol Williams - Finance',
            'David Brown - HR',
            'Website Redesign Project',
            'Mobile App Development',
            'Marketing Campaign Q2',
            'Employee Handbook 2024',
            'Q4 Financial Report',
            'Software License Agreement',
            'Travel Expenses',
            'Office Supplies',
            'Training Materials',
            'Engineering Team',
            'Marketing Department',
            'Finance Department',
            'Human Resources',
            'Legal Department'
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            setupFileUpload();
            setupFormValidation();
        });

        function initializeEventListeners() {
            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchTab(this.dataset.tab);
                });
            });

            // Search autocomplete
            const searchInput = document.getElementById('mainSearch');
            searchInput.addEventListener('input', handleSearchInput);
            searchInput.addEventListener('keydown', handleSearchKeydown);

            // Form submissions
            document.getElementById('employeeForm').addEventListener('submit', handleEmployeeSubmit);
            document.getElementById('projectForm').addEventListener('submit', handleProjectSubmit);
            document.getElementById('expenseForm').addEventListener('submit', handleExpenseSubmit);

            // Table sorting
            document.querySelectorAll('[data-sort]').forEach(header => {
                header.addEventListener('click', function() {
                    sortTable(this.dataset.sort);
                });
            });

            // Filter changes
            document.querySelectorAll('.filter-select').forEach(select => {
                select.addEventListener('change', handleFilterChange);
            });
        }

        function switchTab(tabName) {
            // Update active tab
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            // Update active content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabName}-tab`).classList.add('active');

            currentTab = tabName;
            showNotification('success', `Switched to ${tabName} tab`);
        }

        function handleSearchInput(e) {
            const query = e.target.value.toLowerCase();
            const suggestions = document.getElementById('suggestions');
            
            if (query.length < 2) {
                suggestions.style.display = 'none';
                return;
            }

            const filtered = searchData.filter(item => 
                item.toLowerCase().includes(query)
            ).slice(0, 8);

            if (filtered.length > 0) {
                suggestions.innerHTML = filtered.map(item => 
                    `<div class="autocomplete-item" onclick="selectSuggestion('${item}')">${item}</div>`
                ).join('');
                suggestions.style.display = 'block';
            } else {
                suggestions.style.display = 'none';
            }
        }

        function handleSearchKeydown(e) {
            const suggestions = document.getElementById('suggestions');
            const items = suggestions.querySelectorAll('.autocomplete-item');
            const selected = suggestions.querySelector('.selected');
            
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (selected) {
                    selected.classList.remove('selected');
                    const next = selected.nextElementSibling || items[0];
                    next.classList.add('selected');
                } else if (items.length > 0) {
                    items[0].classList.add('selected');
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (selected) {
                    selected.classList.remove('selected');
                    const prev = selected.previousElementSibling || items[items.length - 1];
                    prev.classList.add('selected');
                }
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (selected) {
                    selectSuggestion(selected.textContent);
                } else {
                    performSearch();
                }
            } else if (e.key === 'Escape') {
                suggestions.style.display = 'none';
            }
        }

        function selectSuggestion(suggestion) {
            document.getElementById('mainSearch').value = suggestion;
            document.getElementById('suggestions').style.display = 'none';
            performSearch();
        }

        function performSearch() {
            const query = document.getElementById('mainSearch').value;
            const searchType = document.getElementById('searchType').value;
            const department = document.getElementById('departmentFilter').value;
            const status = document.getElementById('statusFilter').value;
            
            showLoading(true);
            
            // Simulate search delay
            setTimeout(() => {
                const results = generateSearchResults(query, searchType, department, status);
                displaySearchResults(results);
                showLoading(false);
                showNotification('success', `Found ${results.length} results for "${query}"`);
            }, 1000);
        }

        function generateSearchResults(query, type, department, status) {
            const sampleResults = [
                {
                    title: 'Alice Johnson - Senior Developer',
                    type: 'employee',
                    department: 'Engineering',
                    status: 'active',
                    snippet: 'Senior Developer in Engineering department. Joined January 2022.'
                },
                {
                    title: 'Website Redesign Project',
                    type: 'project',
                    department: 'Engineering',
                    status: 'in_progress',
                    snippet: 'Complete redesign of company website with modern UI/UX.'
                },
                {
                    title: 'Travel Expense - Alice Johnson',
                    type: 'expense',
                    department: 'Engineering',
                    status: 'approved',
                    snippet: 'Business travel expenses for client meeting in New York.'
                },
                {
                    title: 'Employee Handbook 2024',
                    type: 'document',
                    department: 'HR',
                    status: 'active',
                    snippet: 'Updated employee handbook with new policies and procedures.'
                }
            ];

            let filtered = sampleResults;

            if (query) {
                filtered = filtered.filter(item => 
                    item.title.toLowerCase().includes(query.toLowerCase()) ||
                    item.snippet.toLowerCase().includes(query.toLowerCase())
                );
            }

            if (type && type !== 'all') {
                filtered = filtered.filter(item => item.type === type);
            }

            if (department) {
                filtered = filtered.filter(item => item.department.toLowerCase() === department);
            }

            if (status) {
                filtered = filtered.filter(item => item.status === status);
            }

            return filtered;
        }

        function displaySearchResults(results) {
            const container = document.getElementById('resultsContainer');
            const searchResultsDiv = document.getElementById('searchResults');
            
            if (results.length === 0) {
                container.innerHTML = '<div class="result-item">No results found.</div>';
            } else {
                container.innerHTML = results.map(result => `
                    <div class="result-item">
                        <div class="result-title">${result.title}</div>
                        <div class="result-meta">${result.type} • ${result.department} • ${result.status}</div>
                        <div class="result-snippet">${result.snippet}</div>
                    </div>
                `).join('');
            }
            
            searchResultsDiv.style.display = 'block';
            updatePagination(results.length);
        }

        function toggleAdvancedSearch() {
            const advancedSearch = document.getElementById('advancedSearch');
            advancedSearch.classList.toggle('active');
        }

        function applyAdvancedSearch() {
            performSearch();
        }

        function clearAdvancedSearch() {
            document.getElementById('searchType').value = 'all';
            document.getElementById('departmentFilter').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('dateFrom').value = '';
            document.getElementById('dateTo').value = '';
            showNotification('success', 'Advanced search filters cleared');
        }

        function handleEmployeeSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            // Simulate form submission
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                showNotification('success', 'Employee added successfully!');
                e.target.reset();
                addEmployeeToTable(data);
            }, 1000);
        }

        function handleProjectSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                showNotification('success', 'Project created successfully!');
                e.target.reset();
                addProjectToTable(data);
            }, 1000);
        }

        function handleExpenseSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                showNotification('success', 'Expense report submitted successfully!');
                e.target.reset();
                addExpenseToTable(data);
            }, 1000);
        }

        function addEmployeeToTable(data) {
            const tbody = document.getElementById('employeeTableBody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${data.empFirstName} ${data.empLastName}</td>
                <td>${data.empEmail}</td>
                <td>${data.empDept}</td>
                <td>${data.empPosition}</td>
                <td>${data.empHireDate}</td>
                <td><span class="status-badge status-active">Active</span></td>
                <td>
                    <button class="btn btn-secondary" onclick="editEmployee(${Date.now()})" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                    <button class="btn btn-secondary" onclick="deleteEmployee(${Date.now()})" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                </td>
            `;
            tbody.appendChild(row);
        }

        function addProjectToTable(data) {
            const tbody = document.getElementById('projectTableBody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${data.projectName}</td>
                <td>${data.projectManager}</td>
                <td>${data.projectStartDate}</td>
                <td>${data.projectEndDate}</td>
                <td>$${data.projectBudget || 'N/A'}</td>
                <td><span class="status-badge status-active">${data.projectStatus}</span></td>
                <td>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 5%"></div>
                    </div>
                    5%
                </td>
            `;
            tbody.appendChild(row);
        }

        function addExpenseToTable(data) {
            const tbody = document.getElementById('expenseTableBody');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${data.expenseEmployee}</td>
                <td>${data.expenseDate}</td>
                <td>${data.expenseCategory}</td>
                <td>$${data.expenseAmount}</td>
                <td><span class="status-badge status-pending">${data.reimburseStatus}</span></td>
                <td><button class="btn btn-secondary" onclick="viewReceipt(${Date.now()})" data-action="view_receipt" data-subtask="table_interaction">View</button></td>
                <td>
                    <button class="btn btn-secondary" onclick="editExpense(${Date.now()})" data-action="edit_row" data-subtask="table_interaction">Edit</button>
                    <button class="btn btn-secondary" onclick="deleteExpense(${Date.now()})" data-action="delete_row" data-subtask="table_interaction">Delete</button>
                </td>
            `;
            tbody.appendChild(row);
        }

        function sortTable(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }
            
            showNotification('success', `Sorted by ${column} in ${sortDirection}ending order`);
        }

        function addMilestone() {
            const container = document.getElementById('milestonesContainer');
            const newRow = document.createElement('div');
            newRow.className = 'row-item';
            newRow.innerHTML = `
                <input type="text" placeholder="Milestone Name" data-action="input_text" data-subtask="dynamic_content">
                <input type="date" placeholder="Due Date" data-action="input_date" data-subtask="dynamic_content">
                <select data-action="select_status" data-subtask="dynamic_content">
                    <option value="not_started">Not Started</option>
                    <option value="in_progress">In Progress</option>
                    <option value="completed">Completed</option>
                </select>
                <button class="remove-row" onclick="removeMilestone(this)" data-action="remove_row" data-subtask="dynamic_content">Remove</button>
            `;
            container.appendChild(newRow);
            showNotification('success', 'Milestone added');
        }

        function removeMilestone(button) {
            button.parentElement.remove();
            showNotification('success', 'Milestone removed');
        }

        function addExpenseItem() {
            const container = document.getElementById('expenseItemsContainer');
            const newRow = document.createElement('div');
            newRow.className = 'row-item';
            newRow.innerHTML = `
                <input type="text" placeholder="Item Description" data-action="input_text" data-subtask="dynamic_content">
                <input type="number" placeholder="Quantity" min="1" data-action="input_number" data-subtask="dynamic_content">
                <input type="number" placeholder="Unit Price" step="0.01" data-action="input_number" data-subtask="dynamic_content">
                <input type="number" placeholder="Total" readonly data-action="input_readonly" data-subtask="dynamic_content">
                <button class="remove-row" onclick="removeExpenseItem(this)" data-action="remove_row" data-subtask="dynamic_content">Remove</button>
            `;
            container.appendChild(newRow);
            showNotification('success', 'Expense item added');
        }

        function removeExpenseItem(button) {
            button.parentElement.remove();
            showNotification('success', 'Expense item removed');
        }

        function setupFileUpload() {
            document.querySelectorAll('.file-upload-area').forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    const files = e.dataTransfer.files;
                    handleFileUpload(files);
                });
            });

            document.querySelectorAll('input[type="file"]').forEach(input => {
                input.addEventListener('change', function(e) {
                    handleFileUpload(e.target.files);
                });
            });
        }

        function handleFileUpload(files) {
            if (files.length > 0) {
                const file = files[0];
                showNotification('success', `File "${file.name}" uploaded successfully`);
            }
        }

        function setupFormValidation() {
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function(e) {
                    const requiredFields = form.querySelectorAll('[required]');
                    let isValid = true;
                    
                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            isValid = false;
                            field.style.borderColor = '#e53e3e';
                        } else {
                            field.style.borderColor = '#e1e5e9';
                        }
                    });
                    
                    if (!isValid) {
                        e.preventDefault();
                        showNotification('error', 'Please fill in all required fields');
                    }
                });
            });
        }

        function filterEmployees() {
            const department = document.getElementById('empDepartment').value;
            const role = document.getElementById('empRole').value;
            const status = document.getElementById('empStatus').value;
            
            showNotification('success', `Filtered employees by: ${department || 'All'} departments, ${role || 'All'} roles, ${status || 'All'} statuses`);
        }

        function filterDocuments() {
            const type = document.getElementById('docType').value;
            const department = document.getElementById('docDepartment').value;
            const access = document.getElementById('docAccess').value;
            
            showNotification('success', `Filtered documents by: ${type || 'All'} types, ${department || 'All'} departments, ${access || 'All'} access levels`);
        }

        function handleFilterChange(e) {
            const filterType = e.target.id;
            const value = e.target.value;
            showNotification('success', `${filterType} filter changed to: ${value || 'All'}`);
        }

        function exportResults(format) {
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                showNotification('success', `Results exported as ${format.toUpperCase()}`);
            }, 1000);
        }

        function uploadDocument() {
            const title = document.getElementById('documentTitle').value;
            const type = document.getElementById('documentType').value;
            const access = document.getElementById('documentAccess').value;
            
            if (!title || !type || !access) {
                showNotification('error', 'Please fill in all required fields');
                return;
            }
            
            showLoading(true);
            setTimeout(() => {
                showLoading(false);
                showNotification('success', 'Document uploaded successfully!');
                resetDocumentForm();
            }, 1500);
        }

        function resetDocumentForm() {
            document.getElementById('documentTitle').value = '';
            document.getElementById('documentType').value = '';
            document.getElementById('documentAccess').value = '';
            document.getElementById('documentTags').value = '';
            document.getElementById('documentDescription').value = '';
        }

        function editEmployee(id) {
            showNotification('success', `Editing employee ${id}`);
        }

        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                showNotification('success', `Employee ${id} deleted`);
            }
        }

        function editExpense(id) {
            showNotification('success', `Editing expense ${id}`);
        }

        function deleteExpense(id) {
            if (confirm('Are you sure you want to delete this expense?')) {
                showNotification('success', `Expense ${id} deleted`);
            }
        }

        function viewReceipt(id) {
            showNotification('success', `Viewing receipt for expense ${id}`);
        }

        function downloadDocument(id) {
            showNotification('success', `Downloading document ${id}`);
        }

        function shareDocument(id) {
            showNotification('success', `Sharing document ${id}`);
        }

        function updatePagination(totalItems) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pagination = document.getElementById('pagination');
            
            let paginationHTML = '';
            
            if (currentPage > 1) {
                paginationHTML += `<button onclick="changePage(${currentPage - 1})" data-action="pagination" data-subtask="navigation">Previous</button>`;
            }
            
            for (let i = 1; i <= totalPages; i++) {
                const activeClass = i === currentPage ? 'active' : '';
                paginationHTML += `<button class="${activeClass}" onclick="changePage(${i})" data-action="pagination" data-subtask="navigation">${i}</button>`;
            }
            
            if (currentPage < totalPages) {
                paginationHTML += `<button onclick="changePage(${currentPage + 1})" data-action="pagination" data-subtask="navigation">Next</button>`;
            }
            
            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            showNotification('success', `Switched to page ${page}`);
            updatePagination(searchResults.length);
        }

        function showLoading(show) {
            const spinner = document.getElementById('loadingSpinner');
            spinner.style.display = show ? 'block' : 'none';
        }

        function showNotification(type, message) {
            const notification = document.getElementById(type + 'Notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Hide suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.autocomplete-container')) {
                document.getElementById('suggestions').style.display = 'none';
            }
        });

        // Set today's date as default for date inputs
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.querySelectorAll('input[type="date"]').forEach(input => {
                if (!input.value) {
                    input.value = today;
                }
            });
        });
    </script>
</body>
</html>
