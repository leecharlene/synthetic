
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Resource Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tab-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .tab-nav {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-button:hover {
            background: #e9ecef;
            color: #495057;
        }

        .tab-button.active {
            color: #667eea;
            background: white;
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: #667eea;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-control.error {
            border-color: #dc3545;
        }

        .error-message {
            color: #dc3545;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .data-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            border-bottom: 2px solid #e9ecef;
            cursor: pointer;
            user-select: none;
            position: relative;
        }

        .data-table th:hover {
            background: #e9ecef;
        }

        .data-table th.sortable::after {
            content: '‚Üï';
            position: absolute;
            right: 10px;
            opacity: 0.5;
        }

        .data-table th.sort-asc::after {
            content: '‚Üë';
            opacity: 1;
        }

        .data-table th.sort-desc::after {
            content: '‚Üì';
            opacity: 1;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .search-filter-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
        }

        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-item input[type="radio"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        .file-upload-area {
            border: 2px dashed #667eea;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            background: #f8f9ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload-area:hover {
            background: #f0f2ff;
            border-color: #5a6fd8;
        }

        .file-upload-area.dragover {
            background: #e6e9ff;
            border-color: #4c63d2;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: #667eea;
            width: 0%;
            transition: width 0.3s ease;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card-header {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #495057;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            margin-bottom: 10px;
            background: #f8f9fa;
        }

        .expense-item:hover {
            background: #e9ecef;
        }

        .date-picker {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
            max-height: 200px;
            overflow-y: auto;
        }

        .dropdown-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f8f9fa;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 20px;
        }

        .pagination button {
            padding: 8px 12px;
            border: 1px solid #e9ecef;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }

        .pagination button:hover {
            background: #f8f9fa;
        }

        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .search-filter-container {
                flex-direction: column;
            }
            
            .data-table {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Enterprise Resource Management System</h1>
            <p>Comprehensive business management platform for employees, projects, and resources</p>
        </div>

        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" data-action="tab_switch" data-subtask="navigation" onclick="switchTab('employees')">Employee Management</button>
                <button class="tab-button" data-action="tab_switch" data-subtask="navigation" onclick="switchTab('projects')">Project Management</button>
                <button class="tab-button" data-action="tab_switch" data-subtask="navigation" onclick="switchTab('expenses')">Expense Reports</button>
                <button class="tab-button" data-action="tab_switch" data-subtask="navigation" onclick="switchTab('analytics')">Analytics Dashboard</button>
            </div>

            <!-- Employee Management Tab -->
            <div id="employees" class="tab-content active">
                <div class="card">
                    <div class="card-header">Add New Employee</div>
                    <form id="employeeForm" data-action="form_submit" data-subtask="form_filling">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" class="form-control" data-action="text_input" data-subtask="form_filling" required>
                                <div class="error-message">First name is required</div>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" class="form-control" data-action="text_input" data-subtask="form_filling" required>
                                <div class="error-message">Last name is required</div>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" class="form-control" data-action="text_input" data-subtask="form_filling" required>
                                <div class="error-message">Valid email is required</div>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" class="form-control" data-action="text_input" data-subtask="form_filling">
                            </div>
                            <div class="form-group">
                                <label for="department">Department *</label>
                                <select id="department" name="department" class="form-control" data-action="dropdown_select" data-subtask="form_filling" required>
                                    <option value="">Select Department</option>
                                    <option value="engineering">Engineering</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="sales">Sales</option>
                                    <option value="hr">Human Resources</option>
                                    <option value="finance">Finance</option>
                                    <option value="operations">Operations</option>
                                </select>
                                <div class="error-message">Department selection is required</div>
                            </div>
                            <div class="form-group">
                                <label for="position">Position *</label>
                                <input type="text" id="position" name="position" class="form-control" data-action="text_input" data-subtask="form_filling" required>
                                <div class="error-message">Position is required</div>
                            </div>
                            <div class="form-group">
                                <label for="salary">Annual Salary</label>
                                <input type="number" id="salary" name="salary" class="form-control" data-action="number_input" data-subtask="form_filling" min="0" step="1000">
                            </div>
                            <div class="form-group">
                                <label for="startDate">Start Date *</label>
                                <input type="date" id="startDate" name="startDate" class="form-control" data-action="date_select" data-subtask="form_filling" required>
                                <div class="error-message">Start date is required</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Employment Type</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="fullTime" name="employmentType" value="full-time" data-action="radio_select" data-subtask="form_filling" checked>
                                    <label for="fullTime">Full-time</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="partTime" name="employmentType" value="part-time" data-action="radio_select" data-subtask="form_filling">
                                    <label for="partTime">Part-time</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="contract" name="employmentType" value="contract" data-action="radio_select" data-subtask="form_filling">
                                    <label for="contract">Contract</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="intern" name="employmentType" value="intern" data-action="radio_select" data-subtask="form_filling">
                                    <label for="intern">Intern</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Skills & Certifications</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="javascript" name="skills" value="javascript" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="javascript">JavaScript</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="python" name="skills" value="python" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="python">Python</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="projectManagement" name="skills" value="project-management" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="projectManagement">Project Management</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="dataAnalysis" name="skills" value="data-analysis" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="dataAnalysis">Data Analysis</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="marketing" name="skills" value="marketing" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="marketing">Digital Marketing</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="design" name="skills" value="design" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="design">UI/UX Design</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="notes">Additional Notes</label>
                            <textarea id="notes" name="notes" class="form-control" rows="4" data-action="textarea_input" data-subtask="form_filling" placeholder="Enter any additional information about the employee..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Upload Employee Documents</label>
                            <div class="file-upload-area" data-action="file_upload" data-subtask="file_handling" onclick="document.getElementById('employeeFiles').click()">
                                <input type="file" id="employeeFiles" multiple accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;">
                                <p>üìÅ Click to upload or drag and drop files</p>
                                <p>Supported formats: PDF, DOC, DOCX, JPG, PNG</p>
                            </div>
                        </div>

                        <div class="progress-bar" id="uploadProgress" style="display: none;">
                            <div class="progress-fill"></div>
                        </div>

                        <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_submission">Add Employee</button>
                        <button type="button" class="btn btn-secondary" data-action="form_reset" data-subtask="form_interaction" onclick="resetForm('employeeForm')">Reset Form</button>
                    </form>
                </div>

                <div class="card">
                    <div class="card-header">Employee Directory</div>
                    <div class="search-filter-container">
                        <div class="search-box">
                            <input type="text" id="employeeSearch" class="form-control" placeholder="Search employees by name, department, or position..." data-action="search_input" data-subtask="table_filtering" onkeyup="filterEmployees()">
                        </div>
                        <div class="filter-group">
                            <label for="departmentFilter">Filter by Department:</label>
                            <select id="departmentFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterEmployees()">
                                <option value="">All Departments</option>
                                <option value="engineering">Engineering</option>
                                <option value="marketing">Marketing</option>
                                <option value="sales">Sales</option>
                                <option value="hr">Human Resources</option>
                                <option value="finance">Finance</option>
                                <option value="operations">Operations</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="statusFilter">Filter by Status:</label>
                            <select id="statusFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterEmployees()">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="pending">Pending</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <button class="btn btn-secondary" data-action="export_data" data-subtask="data_export" onclick="exportEmployeeData()">Export Data</button>
                    </div>

                    <table class="data-table" id="employeeTable">
                        <thead>
                            <tr>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 0)">Name</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 1)">Email</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 2)">Department</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 3)">Position</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 4)">Start Date</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 5)">Salary</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeTable', 6)">Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <tr>
                                <td>John Smith</td>
                                <td>john.smith@company.com</td>
                                <td>Engineering</td>
                                <td>Senior Developer</td>
                                <td>2022-01-15</td>
                                <td>$95,000</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Sarah Johnson</td>
                                <td>sarah.johnson@company.com</td>
                                <td>Marketing</td>
                                <td>Marketing Manager</td>
                                <td>2021-08-20</td>
                                <td>$78,000</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Michael Brown</td>
                                <td>michael.brown@company.com</td>
                                <td>Sales</td>
                                <td>Sales Representative</td>
                                <td>2023-03-10</td>
                                <td>$65,000</td>
                                <td><span class="status-badge status-pending">Pending</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Emily Davis</td>
                                <td>emily.davis@company.com</td>
                                <td>HR</td>
                                <td>HR Specialist</td>
                                <td>2020-11-05</td>
                                <td>$72,000</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>David Wilson</td>
                                <td>david.wilson@company.com</td>
                                <td>Finance</td>
                                <td>Financial Analyst</td>
                                <td>2022-06-12</td>
                                <td>$68,000</td>
                                <td><span class="status-badge status-active">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Lisa Anderson</td>
                                <td>lisa.anderson@company.com</td>
                                <td>Operations</td>
                                <td>Operations Manager</td>
                                <td>2019-04-18</td>
                                <td>$85,000</td>
                                <td><span class="status-badge status-inactive">Inactive</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="pagination" id="employeePagination">
                        <button data-action="pagination_nav" data-subtask="table_navigation" onclick="changePage('employee', -1)">Previous</button>
                        <button class="active" data-action="pagination_nav" data-subtask="table_navigation" onclick="goToPage('employee', 1)">1</button>
                        <button data-action="pagination_nav" data-subtask="table_navigation" onclick="goToPage('employee', 2)">2</button>
                        <button data-action="pagination_nav" data-subtask="table_navigation" onclick="goToPage('employee', 3)">3</button>
                        <button data-action="pagination_nav" data-subtask="table_navigation" onclick="changePage('employee', 1)">Next</button>
                    </div>
                </div>
            </div>

            <!-- Project Management Tab -->
            <div id="projects" class="tab-content">
                <div class="card">
                    <div class="card-header">Create New Project</div>
                    <form id="projectForm" data-action="form_submit" data-subtask="form_filling">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="projectName">Project Name *</label>
                                <input type="text" id="projectName" name="projectName" class="form-control" data-action="text_input" data-subtask="form_filling" required>
                            </div>
                            <div class="form-group">
                                <label for="projectManager">Project Manager *</label>
                                <select id="projectManager" name="projectManager" class="form-control" data-action="dropdown_select" data-subtask="form_filling" required>
                                    <option value="">Select Manager</option>
                                    <option value="john.smith">John Smith</option>
                                    <option value="sarah.johnson">Sarah Johnson</option>
                                    <option value="emily.davis">Emily Davis</option>
                                    <option value="lisa.anderson">Lisa Anderson</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="projectBudget">Budget ($)</label>
                                <input type="number" id="projectBudget" name="projectBudget" class="form-control" data-action="number_input" data-subtask="form_filling" min="0" step="1000">
                            </div>
                            <div class="form-group">
                                <label for="projectStartDate">Start Date *</label>
                                <input type="date" id="projectStartDate" name="projectStartDate" class="form-control" data-action="date_select" data-subtask="form_filling" required>
                            </div>
                            <div class="form-group">
                                <label for="projectEndDate">End Date *</label>
                                <input type="date" id="projectEndDate" name="projectEndDate" class="form-control" data-action="date_select" data-subtask="form_filling" required>
                            </div>
                            <div class="form-group">
                                <label for="projectPriority">Priority Level</label>
                                <select id="projectPriority" name="projectPriority" class="form-control" data-action="dropdown_select" data-subtask="form_filling">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="projectDescription">Project Description</label>
                            <textarea id="projectDescription" name="projectDescription" class="form-control" rows="4" data-action="textarea_input" data-subtask="form_filling" placeholder="Describe the project objectives, scope, and deliverables..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Project Team Members</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember1" name="teamMembers" value="john.smith" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember1">John Smith (Engineering)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember2" name="teamMembers" value="sarah.johnson" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember2">Sarah Johnson (Marketing)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember3" name="teamMembers" value="michael.brown" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember3">Michael Brown (Sales)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember4" name="teamMembers" value="emily.davis" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember4">Emily Davis (HR)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember5" name="teamMembers" value="david.wilson" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember5">David Wilson (Finance)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="teamMember6" name="teamMembers" value="lisa.anderson" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="teamMember6">Lisa Anderson (Operations)</label>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_submission">Create Project</button>
                        <button type="button" class="btn btn-secondary" data-action="form_reset" data-subtask="form_interaction" onclick="resetForm('projectForm')">Reset Form</button>
                    </form>
                </div>

                <div class="card">
                    <div class="card-header">Project Portfolio</div>
                    <div class="search-filter-container">
                        <div class="search-box">
                            <input type="text" id="projectSearch" class="form-control" placeholder="Search projects by name or manager..." data-action="search_input" data-subtask="table_filtering" onkeyup="filterProjects()">
                        </div>
                        <div class="filter-group">
                            <label for="priorityFilter">Filter by Priority:</label>
                            <select id="priorityFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterProjects()">
                                <option value="">All Priorities</option>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="projectStatusFilter">Filter by Status:</label>
                            <select id="projectStatusFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterProjects()">
                                <option value="">All Status</option>
                                <option value="planning">Planning</option>
                                <option value="in-progress">In Progress</option>
                                <option value="completed">Completed</option>
                                <option value="on-hold">On Hold</option>
                            </select>
                        </div>
                    </div>

                    <table class="data-table" id="projectTable">
                        <thead>
                            <tr>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 0)">Project Name</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 1)">Manager</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 2)">Budget</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 3)">Start Date</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 4)">End Date</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 5)">Priority</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectTable', 6)">Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projectTableBody">
                            <tr>
                                <td>Website Redesign</td>
                                <td>Sarah Johnson</td>
                                <td>$45,000</td>
                                <td>2024-01-15</td>
                                <td>2024-04-30</td>
                                <td>High</td>
                                <td><span class="status-badge status-active">In Progress</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Mobile App Development</td>
                                <td>John Smith</td>
                                <td>$120,000</td>
                                <td>2024-02-01</td>
                                <td>2024-08-15</td>
                                <td>Critical</td>
                                <td><span class="status-badge status-pending">Planning</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Marketing Campaign Q2</td>
                                <td>Sarah Johnson</td>
                                <td>$25,000</td>
                                <td>2024-04-01</td>
                                <td>2024-06-30</td>
                                <td>Medium</td>
                                <td><span class="status-badge status-active">In Progress</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Data Migration</td>
                                <td>David Wilson</td>
                                <td>$35,000</td>
                                <td>2023-11-01</td>
                                <td>2024-01-31</td>
                                <td>High</td>
                                <td><span class="status-badge status-active">Completed</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Office Renovation</td>
                                <td>Lisa Anderson</td>
                                <td>$75,000</td>
                                <td>2024-03-15</td>
                                <td>2024-05-30</td>
                                <td>Low</td>
                                <td><span class="status-badge status-inactive">On Hold</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Expense Reports Tab -->
            <div id="expenses" class="tab-content">
                <div class="card">
                    <div class="card-header">Submit Expense Report</div>
                    <form id="expenseForm" data-action="form_submit" data-subtask="form_filling">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="expenseEmployee">Employee *</label>
                                <select id="expenseEmployee" name="expenseEmployee" class="form-control" data-action="dropdown_select" data-subtask="form_filling" required>
                                    <option value="">Select Employee</option>
                                    <option value="john.smith">John Smith</option>
                                    <option value="sarah.johnson">Sarah Johnson</option>
                                    <option value="michael.brown">Michael Brown</option>
                                    <option value="emily.davis">Emily Davis</option>
                                    <option value="david.wilson">David Wilson</option>
                                    <option value="lisa.anderson">Lisa Anderson</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="expenseDate">Expense Date *</label>
                                <input type="date" id="expenseDate" name="expenseDate" class="form-control" data-action="date_select" data-subtask="form_filling" required>
                            </div>
                            <div class="form-group">
                                <label for="expenseCategory">Category *</label>
                                <select id="expenseCategory" name="expenseCategory" class="form-control" data-action="dropdown_select" data-subtask="form_filling" required>
                                    <option value="">Select Category</option>
                                    <option value="travel">Travel</option>
                                    <option value="meals">Meals & Entertainment</option>
                                    <option value="office">Office Supplies</option>
                                    <option value="software">Software & Subscriptions</option>
                                    <option value="training">Training & Education</option>
                                    <option value="equipment">Equipment</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="expenseAmount">Amount ($) *</label>
                                <input type="number" id="expenseAmount" name="expenseAmount" class="form-control" data-action="number_input" data-subtask="form_filling" min="0" step="0.01" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="expenseDescription">Description *</label>
                            <textarea id="expenseDescription" name="expenseDescription" class="form-control" rows="3" data-action="textarea_input" data-subtask="form_filling" placeholder="Provide details about the expense..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Payment Method</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="creditCard" name="paymentMethod" value="credit-card" data-action="radio_select" data-subtask="form_filling" checked>
                                    <label for="creditCard">Credit Card</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="cash" name="paymentMethod" value="cash" data-action="radio_select" data-subtask="form_filling">
                                    <label for="cash">Cash</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="personalCard" name="paymentMethod" value="personal-card" data-action="radio_select" data-subtask="form_filling">
                                    <label for="personalCard">Personal Card</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Expense Attributes</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="businessMeal" name="attributes" value="business-meal" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="businessMeal">Business Meal</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="clientMeeting" name="attributes" value="client-meeting" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="clientMeeting">Client Meeting</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="conference" name="attributes" value="conference" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="conference">Conference/Event</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="recurring" name="attributes" value="recurring" data-action="checkbox_toggle" data-subtask="form_filling">
                                    <label for="recurring">Recurring Expense</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Upload Receipts</label>
                            <div class="file-upload-area" data-action="file_upload" data-subtask="file_handling" onclick="document.getElementById('receiptFiles').click()">
                                <input type="file" id="receiptFiles" multiple accept=".pdf,.jpg,.png" style="display: none;">
                                <p>üìÑ Click to upload receipts or drag and drop</p>
                                <p>Supported formats: PDF, JPG, PNG</p>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" data-action="form_submit" data-subtask="form_submission">Submit Expense Report</button>
                        <button type="button" class="btn btn-secondary" data-action="form_reset" data-subtask="form_interaction" onclick="resetForm('expenseForm')">Reset Form</button>
                    </form>
                </div>

                <div class="card">
                    <div class="card-header">Expense Reports</div>
                    <div class="search-filter-container">
                        <div class="search-box">
                            <input type="text" id="expenseSearch" class="form-control" placeholder="Search expenses by employee or description..." data-action="search_input" data-subtask="table_filtering" onkeyup="filterExpenses()">
                        </div>
                        <div class="filter-group">
                            <label for="categoryFilter">Filter by Category:</label>
                            <select id="categoryFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterExpenses()">
                                <option value="">All Categories</option>
                                <option value="travel">Travel</option>
                                <option value="meals">Meals & Entertainment</option>
                                <option value="office">Office Supplies</option>
                                <option value="software">Software & Subscriptions</option>
                                <option value="training">Training & Education</option>
                                <option value="equipment">Equipment</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="expenseStatusFilter">Filter by Status:</label>
                            <select id="expenseStatusFilter" class="form-control" data-action="filter_select" data-subtask="table_filtering" onchange="filterExpenses()">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="rejected">Rejected</option>
                            </select>
                        </div>
                    </div>

                    <table class="data-table" id="expenseTable">
                        <thead>
                            <tr>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 0)">Employee</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 1)">Date</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 2)">Category</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 3)">Amount</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 4)">Description</th>
                                <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseTable', 5)">Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="expenseTableBody">
                            <tr>
                                <td>John Smith</td>
                                <td>2024-01-15</td>
                                <td>Travel</td>
                                <td>$450.00</td>
                                <td>Flight to client meeting in Chicago</td>
                                <td><span class="status-badge status-active">Approved</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Sarah Johnson</td>
                                <td>2024-01-20</td>
                                <td>Meals</td>
                                <td>$85.50</td>
                                <td>Team lunch with marketing department</td>
                                <td><span class="status-badge status-pending">Pending</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Michael Brown</td>
                                <td>2024-01-18</td>
                                <td>Office</td>
                                <td>$125.00</td>
                                <td>Office supplies and stationery</td>
                                <td><span class="status-badge status-active">Approved</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Emily Davis</td>
                                <td>2024-01-22</td>
                                <td>Software</td>
                                <td>$299.00</td>
                                <td>Annual subscription to HR software</td>
                                <td><span class="status-badge status-inactive">Rejected</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>David Wilson</td>
                                <td>2024-01-25</td>
                                <td>Training</td>
                                <td>$750.00</td>
                                <td>Financial analysis certification course</td>
                                <td><span class="status-badge status-pending">Pending</span></td>
                                <td>
                                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Analytics Dashboard Tab -->
            <div id="analytics" class="tab-content">
                <div class="card">
                    <div class="card-header">Analytics Dashboard</div>
                    <div class="search-filter-container">
                        <div class="filter-group">
                            <label for="analyticsDateRange">Date Range:</label>
                            <select id="analyticsDateRange" class="form-control" data-action="filter_select" data-subtask="analytics_filtering" onchange="updateAnalytics()">
                                <option value="7days">Last 7 Days</option>
                                <option value="30days" selected>Last 30 Days</option>
                                <option value="90days">Last 90 Days</option>
                                <option value="1year">Last Year</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="analyticsMetric">Metric:</label>
                            <select id="analyticsMetric" class="form-control" data-action="filter_select" data-subtask="analytics_filtering" onchange="updateAnalytics()">
                                <option value="employees">Employee Count</option>
                                <option value="projects">Project Progress</option>
                                <option value="expenses">Expense Analysis</option>
                                <option value="performance">Performance Metrics</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" data-action="refresh_data" data-subtask="data_refresh" onclick="refreshAnalytics()">Refresh Data</button>
                        <button class="btn btn-secondary" data-action="export_report" data-subtask="data_export" onclick="exportAnalyticsReport()">Export Report</button>
                    </div>

                    <div class="form-grid">
                        <div class="card">
                            <div class="card-header">Employee Statistics</div>
                            <table class="data-table" id="employeeStatsTable">
                                <thead>
                                    <tr>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeStatsTable', 0)">Department</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeStatsTable', 1)">Total Employees</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeStatsTable', 2)">Active</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('employeeStatsTable', 3)">Avg Salary</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Engineering</td>
                                        <td>15</td>
                                        <td>14</td>
                                        <td>$92,000</td>
                                    </tr>
                                    <tr>
                                        <td>Marketing</td>
                                        <td>8</td>
                                        <td>7</td>
                                        <td>$75,000</td>
                                    </tr>
                                    <tr>
                                        <td>Sales</td>
                                        <td>12</td>
                                        <td>11</td>
                                        <td>$68,000</td>
                                    </tr>
                                    <tr>
                                        <td>HR</td>
                                        <td>4</td>
                                        <td>4</td>
                                        <td>$72,000</td>
                                    </tr>
                                    <tr>
                                        <td>Finance</td>
                                        <td>6</td>
                                        <td>6</td>
                                        <td>$78,000</td>
                                    </tr>
                                    <tr>
                                        <td>Operations</td>
                                        <td>5</td>
                                        <td>4</td>
                                        <td>$82,000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="card">
                            <div class="card-header">Project Performance</div>
                            <table class="data-table" id="projectStatsTable">
                                <thead>
                                    <tr>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectStatsTable', 0)">Status</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectStatsTable', 1)">Count</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectStatsTable', 2)">Total Budget</th>
                                        <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('projectStatsTable', 3)">Avg Duration</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Planning</td>
                                        <td>3</td>
                                        <td>$180,000</td>
                                        <td>4.2 months</td>
                                    </tr>
                                    <tr>
                                        <td>In Progress</td>
                                        <td>7</td>
                                        <td>$425,000</td>
                                        <td>5.8 months</td>
                                    </tr>
                                    <tr>
                                        <td>Completed</td>
                                        <td>12</td>
                                        <td>$680,000</td>
                                        <td>6.1 months</td>
                                    </tr>
                                    <tr>
                                        <td>On Hold</td>
                                        <td>2</td>
                                        <td>$95,000</td>
                                        <td>3.5 months</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">Expense Analysis</div>
                        <table class="data-table" id="expenseStatsTable">
                            <thead>
                                <tr>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 0)">Category</th>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 1)">Total Expenses</th>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 2)">Approved</th>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 3)">Pending</th>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 4)">Rejected</th>
                                    <th class="sortable" data-action="column_sort" data-subtask="table_sorting" onclick="sortTable('expenseStatsTable', 5)">Avg Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Travel</td>
                                    <td>$12,450</td>
                                    <td>$9,200</td>
                                    <td>$2,100</td>
                                    <td>$1,150</td>
                                    <td>$415</td>
                                </tr>
                                <tr>
                                    <td>Meals</td>
                                    <td>$3,280</td>
                                    <td>$2,850</td>
                                    <td>$430</td>
                                    <td>$0</td>
                                    <td>$82</td>
                                </tr>
                                <tr>
                                    <td>Office</td>
                                    <td>$1,890</td>
                                    <td>$1,650</td>
                                    <td>$240</td>
                                    <td>$0</td>
                                    <td>$135</td>
                                </tr>
                                <tr>
                                    <td>Software</td>
                                    <td>$8,750</td>
                                    <td>$7,200</td>
                                    <td>$850</td>
                                    <td>$700</td>
                                    <td>$292</td>
                                </tr>
                                <tr>
                                    <td>Training</td>
                                    <td>$4,500</td>
                                    <td>$3,200</td>
                                    <td>$1,300</td>
                                    <td>$0</td>
                                    <td>$750</td>
                                </tr>
                                <tr>
                                    <td>Equipment</td>
                                    <td>$15,600</td>
                                    <td>$12,800</td>
                                    <td>$2,800</td>
                                    <td>$0</td>
                                    <td>$1,300</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert alert-success" id="successAlert">
            Operation completed successfully!
        </div>

        <div class="alert alert-error" id="errorAlert">
            An error occurred. Please try again.
        </div>

        <div class="loading-spinner" id="loadingSpinner"></div>
    </div>

    <script>
        // Global variables
        let currentSortColumn = -1;
        let currentSortDirection = 'asc';
        let currentPage = 1;
        const itemsPerPage = 10;

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Form validation and submission
        function validateForm(formId) {
            const form = document.getElementById(formId);
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                const errorMessage = field.parentNode.querySelector('.error-message');
                if (!field.value.trim()) {
                    field.classList.add('error');
                    if (errorMessage) errorMessage.style.display = 'block';
                    isValid = false;
                } else {
                    field.classList.remove('error');
                    if (errorMessage) errorMessage.style.display = 'none';
                }
            });

            return isValid;
        }

        // Form submission handlers
        document.getElementById('employeeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validateForm('employeeForm')) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showAlert('Employee added successfully!', 'success');
                    addEmployeeToTable();
                    resetForm('employeeForm');
                }, 1500);
            }
        });

        document.getElementById('projectForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validateForm('projectForm')) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showAlert('Project created successfully!', 'success');
                    addProjectToTable();
                    resetForm('projectForm');
                }, 1500);
            }
        });

        document.getElementById('expenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validateForm('expenseForm')) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    showAlert('Expense report submitted successfully!', 'success');
                    addExpenseToTable();
                    resetForm('expenseForm');
                }, 1500);
            }
        });

        // Reset form function
        function resetForm(formId) {
            const form = document.getElementById(formId);
            form.reset();
            
            // Clear error states
            const errorFields = form.querySelectorAll('.error');
            errorFields.forEach(field => field.classList.remove('error'));
            
            const errorMessages = form.querySelectorAll('.error-message');
            errorMessages.forEach(message => message.style.display = 'none');
        }

        // Table sorting functionality
        function sortTable(tableId, columnIndex) {
            const table = document.getElementById(tableId);
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const headers = table.querySelectorAll('th');

            // Remove sort classes from all headers
            headers.forEach(header => {
                header.classList.remove('sort-asc', 'sort-desc');
            });

            // Determine sort direction
            let direction = 'asc';
            if (currentSortColumn === columnIndex && currentSortDirection === 'asc') {
                direction = 'desc';
            }

            // Add sort class to current header
            headers[columnIndex].classList.add(direction === 'asc' ? 'sort-asc' : 'sort-desc');

            // Sort rows
            rows.sort((a, b) => {
                const aValue = a.cells[columnIndex].textContent.trim();
                const bValue = b.cells[columnIndex].textContent.trim();

                // Handle numeric values
                if (!isNaN(aValue) && !isNaN(bValue)) {
                    return direction === 'asc' ? aValue - bValue : bValue - aValue;
                }

                // Handle date values
                if (aValue.match(/\d{4}-\d{2}-\d{2}/) && bValue.match(/\d{4}-\d{2}-\d{2}/)) {
                    const aDate = new Date(aValue);
                    const bDate = new Date(bValue);
                    return direction === 'asc' ? aDate - bDate : bDate - aDate;
                }

                // Handle salary values
                if (aValue.includes('$') && bValue.includes('$')) {
                    const aNum = parseFloat(aValue.replace(/[$,]/g, ''));
                    const bNum = parseFloat(bValue.replace(/[$,]/g, ''));
                    return direction === 'asc' ? aNum - bNum : bNum - aNum;
                }

                // Handle text values
                return direction === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);
            });

            // Update table
            rows.forEach(row => tbody.appendChild(row));

            currentSortColumn = columnIndex;
            currentSortDirection = direction;
        }

        // Filter functions
        function filterEmployees() {
            const searchTerm = document.getElementById('employeeSearch').value.toLowerCase();
            const departmentFilter = document.getElementById('departmentFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const tbody = document.getElementById('employeeTableBody');
            const rows = tbody.querySelectorAll('tr');

            rows.forEach(row => {
                const name = row.cells[0].textContent.toLowerCase();
                const email = row.cells[1].textContent.toLowerCase();
                const department = row.cells[2].textContent.toLowerCase();
                const position = row.cells[3].textContent.toLowerCase();
                const status = row.cells[6].textContent.toLowerCase();

                const matchesSearch = name.includes(searchTerm) || 
                                    email.includes(searchTerm) || 
                                    department.includes(searchTerm) || 
                                    position.includes(searchTerm);
                const matchesDepartment = !departmentFilter || department.includes(departmentFilter);
                const matchesStatus = !statusFilter || status.includes(statusFilter);

                row.style.display = matchesSearch && matchesDepartment && matchesStatus ? '' : 'none';
            });
        }

        function filterProjects() {
            const searchTerm = document.getElementById('projectSearch').value.toLowerCase();
            const priorityFilter = document.getElementById('priorityFilter').value;
            const statusFilter = document.getElementById('projectStatusFilter').value;
            const tbody = document.getElementById('projectTableBody');
            const rows = tbody.querySelectorAll('tr');

            rows.forEach(row => {
                const name = row.cells[0].textContent.toLowerCase();
                const manager = row.cells[1].textContent.toLowerCase();
                const priority = row.cells[5].textContent.toLowerCase();
                const status = row.cells[6].textContent.toLowerCase();

                const matchesSearch = name.includes(searchTerm) || manager.includes(searchTerm);
                const matchesPriority = !priorityFilter || priority.includes(priorityFilter);
                const matchesStatus = !statusFilter || status.includes(statusFilter);

                row.style.display = matchesSearch && matchesPriority && matchesStatus ? '' : 'none';
            });
        }

        function filterExpenses() {
            const searchTerm = document.getElementById('expenseSearch').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const statusFilter = document.getElementById('expenseStatusFilter').value;
            const tbody = document.getElementById('expenseTableBody');
            const rows = tbody.querySelectorAll('tr');

            rows.forEach(row => {
                const employee = row.cells[0].textContent.toLowerCase();
                const category = row.cells[2].textContent.toLowerCase();
                const description = row.cells[4].textContent.toLowerCase();
                const status = row.cells[5].textContent.toLowerCase();

                const matchesSearch = employee.includes(searchTerm) || description.includes(searchTerm);
                const matchesCategory = !categoryFilter || category.includes(categoryFilter);
                const matchesStatus = !statusFilter || status.includes(statusFilter);

                row.style.display = matchesSearch && matchesCategory && matchesStatus ? '' : 'none';
            });
        }

        // Add new records to tables
        function addEmployeeToTable() {
            const tbody = document.getElementById('employeeTableBody');
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const department = document.getElementById('department').value;
            const position = document.getElementById('position').value;
            const startDate = document.getElementById('startDate').value;
            const salary = document.getElementById('salary').value;

            const newRow = tbody.insertRow(0);
            newRow.innerHTML = `
                <td>${firstName} ${lastName}</td>
                <td>${email}</td>
                <td>${department}</td>
                <td>${position}</td>
                <td>${startDate}</td>
                <td>$${parseInt(salary).toLocaleString()}</td>
                <td><span class="status-badge status-pending">Pending</span></td>
                <td>
                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editEmployee(this)">Edit</button>
                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteEmployee(this)">Delete</button>
                </td>
            `;
        }

        function addProjectToTable() {
            const tbody = document.getElementById('projectTableBody');
            const projectName = document.getElementById('projectName').value;
            const projectManager = document.getElementById('projectManager').value;
            const projectBudget = document.getElementById('projectBudget').value;
            const projectStartDate = document.getElementById('projectStartDate').value;
            const projectEndDate = document.getElementById('projectEndDate').value;
            const projectPriority = document.getElementById('projectPriority').value;

            const newRow = tbody.insertRow(0);
            newRow.innerHTML = `
                <td>${projectName}</td>
                <td>${projectManager}</td>
                <td>$${parseInt(projectBudget).toLocaleString()}</td>
                <td>${projectStartDate}</td>
                <td>${projectEndDate}</td>
                <td>${projectPriority}</td>
                <td><span class="status-badge status-pending">Planning</span></td>
                <td>
                    <button class="btn btn-secondary" data-action="edit_record" data-subtask="data_modification" onclick="editProject(this)">Edit</button>
                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteProject(this)">Delete</button>
                </td>
            `;
        }

        function addExpenseToTable() {
            const tbody = document.getElementById('expenseTableBody');
            const employee = document.getElementById('expenseEmployee').value;
            const date = document.getElementById('expenseDate').value;
            const category = document.getElementById('expenseCategory').value;
            const amount = document.getElementById('expenseAmount').value;
            const description = document.getElementById('expenseDescription').value;

            const newRow = tbody.insertRow(0);
            newRow.innerHTML = `
                <td>${employee}</td>
                <td>${date}</td>
                <td>${category}</td>
                <td>$${parseFloat(amount).toFixed(2)}</td>
                <td>${description}</td>
                <td><span class="status-badge status-pending">Pending</span></td>
                <td>
                    <button class="btn btn-secondary" data-action="view_record" data-subtask="data_viewing" onclick="viewExpense(this)">View</button>
                    <button class="btn btn-danger" data-action="delete_record" data-subtask="data_modification" onclick="deleteExpense(this)">Delete</button>
                </td>
            `;
        }

        // Record action functions
        function editEmployee(button) {
            showAlert('Edit functionality would open a modal or form', 'success');
        }

        function deleteEmployee(button) {
            if (confirm('Are you sure you want to delete this employee?')) {
                button.closest('tr').remove();
                showAlert('Employee deleted successfully', 'success');
            }
        }

        function editProject(button) {
            showAlert('Edit functionality would open a modal or form', 'success');
        }

        function deleteProject(button) {
            if (confirm('Are you sure you want to delete this project?')) {
                button.closest('tr').remove();
                showAlert('Project deleted successfully', 'success');
            }
        }

        function viewExpense(button) {
            showAlert('View functionality would open a detailed view', 'success');
        }

        function deleteExpense(button) {
            if (confirm('Are you sure you want to delete this expense?')) {
                button.closest('tr').remove();
                showAlert('Expense deleted successfully', 'success');
            }
        }

        // Pagination functions
        function changePage(tableType, direction) {
            currentPage += direction;
            if (currentPage < 1) currentPage = 1;
            updatePagination(tableType);
        }

        function goToPage(tableType, page) {
            currentPage = page;
            updatePagination(tableType);
        }

        function updatePagination(tableType) {
            const paginationButtons = document.querySelectorAll(`#${tableType}Pagination button`);
            paginationButtons.forEach(button => button.classList.remove('active'));
            
            const activeButton = document.querySelector(`#${tableType}Pagination button:nth-child(${currentPage + 1})`);
            if (activeButton) activeButton.classList.add('active');
        }

        // Export functions
        function exportEmployeeData() {
            showAlert('Employee data exported successfully', 'success');
        }

        function exportAnalyticsReport() {
            showAlert('Analytics report exported successfully', 'success');
        }

        // Analytics functions
        function updateAnalytics() {
            showLoading();
            setTimeout(() => {
                hideLoading();
                showAlert('Analytics updated successfully', 'success');
            }, 1000);
        }

        function refreshAnalytics() {
            showLoading();
            setTimeout(() => {
                hideLoading();
                showAlert('Analytics refreshed successfully', 'success');
            }, 1500);
        }

        // Utility functions
        function showAlert(message, type) {
            const alertId = type === 'success' ? 'successAlert' : 'errorAlert';
            const alert = document.getElementById(alertId);
            alert.textContent = message;
            alert.style.display = 'block';
            
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);
        }

        function showLoading() {
            document.getElementById('loadingSpinner').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loadingSpinner').style.display = 'none';
        }

        // File upload handling
        document.getElementById('employeeFiles').addEventListener('change', function(e) {
            handleFileUpload(e.target.files, 'employee');
        });

        document.getElementById('receiptFiles').addEventListener('change', function(e) {
            handleFileUpload(e.target.files, 'receipt');
        });

        function handleFileUpload(files, type) {
            if (files.length > 0) {
                showLoading();
                const progressBar = document.getElementById('uploadProgress');
                const progressFill = progressBar.querySelector('.progress-fill');
                
                progressBar.style.display = 'block';
                
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 10;
                    progressFill.style.width = progress + '%';
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        setTimeout(() => {
                            hideLoading();
                            progressBar.style.display = 'none';
                            progressFill.style.width = '0%';
                            showAlert(`${files.length} file(s) uploaded successfully`, 'success');
                        }, 500);
                    }
                }, 200);
            }
        }

        // Drag and drop functionality
        const fileUploadAreas = document.querySelectorAll('.file-upload-area');
        fileUploadAreas.forEach(area => {
            area.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('dragover');
            });

            area.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
            });

            area.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
                const files = e.dataTransfer.files;
                handleFileUpload(files, 'drag');
            });
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set default values
            document.getElementById('startDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('projectStartDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('expenseDate').value = new Date().toISOString().split('T')[0];
            
            // Add keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    // Tab navigation is handled by browser
                }
                if (e.key === 'Enter' && e.target.tagName === 'BUTTON') {
                    e.target.click();
                }
            });
        });
    </script>
</body>
</html>
