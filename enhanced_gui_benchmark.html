<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Enterprise Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .tab-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            overflow: hidden;
        }

        .tab-nav {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e1e8ed;
        }

        .tab-nav button {
            padding: 15px 25px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-nav button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .tab-nav button:hover {
            background: #e9ecef;
        }

        .tab-content {
            display: none;
            padding: 25px;
        }

        .tab-content.active {
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid #e1e8ed;
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-success {
            background: #28a745;
        }

        .search-container {
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 14px;
        }

        .filter-select {
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 14px;
            min-width: 150px;
        }

        .scrollable-list {
            height: 400px;
            overflow-y: auto;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            background: white;
        }

        .list-item {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .list-item:hover {
            background-color: #f8f9ff;
        }

        .list-item.selected {
            background-color: #e3f2fd;
            border-left: 4px solid #667eea;
        }

        .employee-info {
            flex: 1;
        }

        .employee-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .employee-details {
            font-size: 12px;
            color: #666;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-active {
            background-color: #d4edda;
            color: #155724;
        }

        .status-inactive {
            background-color: #f8d7da;
            color: #721c24;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .data-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            cursor: pointer;
            user-select: none;
        }

        .data-table th:hover {
            background: #5a6fd8;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .data-table tr:hover {
            background-color: #f8f9ff;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .notification {
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
        }

        .notification.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .notification.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .sort-indicator {
            margin-left: 5px;
            font-size: 12px;
        }

        /* Calendar Styles */
        .calendar-container {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 6px;
            padding: 20px;
            max-width: 400px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-nav {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .calendar-nav:hover {
            background: #f0f0f0;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .calendar-day:hover {
            background: #e3f2fd;
        }

        .calendar-day.selected {
            background: #667eea;
            color: white;
        }

        .calendar-day.other-month {
            color: #ccc;
        }

        .calendar-weekday {
            font-weight: 600;
            color: #666;
            text-align: center;
            padding: 10px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        /* Drag and Drop Styles */
        .kanban-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .kanban-column {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 15px;
            min-height: 300px;
        }

        .kanban-header {
            font-weight: 600;
            margin-bottom: 15px;
            color: #667eea;
        }

        .kanban-item {
            background: white;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            cursor: move;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .kanban-item:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .kanban-item.dragging {
            opacity: 0.5;
        }

        /* Autocomplete Styles */
        .autocomplete-container {
            position: relative;
        }

        .autocomplete-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e1e8ed;
            border-top: none;
            border-radius: 0 0 6px 6px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .autocomplete-suggestion {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }

        .autocomplete-suggestion:hover,
        .autocomplete-suggestion.selected {
            background: #e3f2fd;
        }

        /* Range Slider Styles */
        .range-container {
            margin: 20px 0;
        }

        .range-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e1e8ed;
            outline: none;
            -webkit-appearance: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .range-values {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .search-container {
                flex-direction: column;
            }

            .kanban-board {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Advanced Enterprise Management System</h1>
            <p>Comprehensive employee data management with advanced GUI testing capabilities</p>
        </div>

        <div id="notification" class="notification"></div>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" data-tab="employees">Employee Management</button>
                <button class="tab-button" data-tab="projects">Project Tracking</button>
                <button class="tab-button" data-tab="calendar">Calendar System</button>
                <button class="tab-button" data-tab="reports">Analytics Dashboard</button>
            </div>

            <!-- Employee Management Tab -->
            <div id="employees" class="tab-content active">
                <div class="main-content">
                    <!-- Employee Registration Form -->
                    <div class="card">
                        <h2>Employee Registration</h2>
                        <form id="employeeForm">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="department">Department</label>
                                <select id="department" name="department" class="form-control">
                                    <option value="">Select Department</option>
                                    <option value="engineering">Engineering</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="sales">Sales</option>
                                    <option value="hr">Human Resources</option>
                                    <option value="finance">Finance</option>
                                    <option value="operations">Operations</option>
                                    <option value="legal">Legal</option>
                                    <option value="design">Design</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="position">Position</label>
                                <div class="autocomplete-container">
                                    <input type="text" id="position" name="position" class="form-control" placeholder="Start typing position...">
                                    <div id="positionSuggestions" class="autocomplete-suggestions"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="startDate">Start Date</label>
                                <input type="date" id="startDate" name="startDate" class="form-control">
                            </div>
                            
                            <div class="form-group">
                                <label for="salaryRange">Salary Range</label>
                                <div class="range-container">
                                    <input type="range" id="salaryRange" class="range-slider" min="30000" max="200000" value="75000" step="5000">
                                    <div class="range-values">
                                        <span>$30K</span>
                                        <span id="salaryValue">$75K</span>
                                        <span>$200K</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Employment Type</label>
                                <div class="radio-group">
                                    <div class="radio-item">
                                        <input type="radio" id="fullTime" name="employmentType" value="full-time">
                                        <label for="fullTime">Full-time</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="partTime" name="employmentType" value="part-time">
                                        <label for="partTime">Part-time</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="contract" name="employmentType" value="contract">
                                        <label for="contract">Contract</label>
                                    </div>
                                    <div class="radio-item">
                                        <input type="radio" id="intern" name="employmentType" value="intern">
                                        <label for="intern">Intern</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Skills & Certifications</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="javascript" name="skills" value="javascript">
                                        <label for="javascript">JavaScript</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="python" name="skills" value="python">
                                        <label for="python">Python</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="aws" name="skills" value="aws">
                                        <label for="aws">AWS Certified</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="agile" name="skills" value="agile">
                                        <label for="agile">Agile/Scrum</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="projectmgmt" name="skills" value="projectmgmt">
                                        <label for="projectmgmt">Project Management</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="design" name="skills" value="design">
                                        <label for="design">UI/UX Design</label>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn">Register Employee</button>
                            <button type="reset" class="btn btn-secondary">Clear Form</button>
                            <button type="button" id="openModalBtn" class="btn btn-success">Advanced Options</button>
                        </form>
                    </div>

                    <!-- Employee Search and List -->
                    <div class="card">
                        <h2>Employee Directory</h2>
                        <div class="search-container">
                            <input type="text" id="searchInput" class="search-input" placeholder="Search employees by name, department, or position...">
                            <select id="departmentFilter" class="filter-select">
                                <option value="">All Departments</option>
                                <option value="engineering">Engineering</option>
                                <option value="marketing">Marketing</option>
                                <option value="sales">Sales</option>
                                <option value="hr">Human Resources</option>
                                <option value="finance">Finance</option>
                                <option value="operations">Operations</option>
                                <option value="legal">Legal</option>
                                <option value="design">Design</option>
                            </select>
                            <select id="statusFilter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="pending">Pending</option>
                            </select>
                            <select id="experienceFilter" class="filter-select">
                                <option value="">All Experience</option>
                                <option value="junior">Junior (0-2 years)</option>
                                <option value="mid">Mid-level (3-5 years)</option>
                                <option value="senior">Senior (6+ years)</option>
                            </select>
                        </div>
                        
                        <div id="employeeList" class="scrollable-list"></div>
                        
                        <div style="margin-top: 15px;">
                            <button id="selectAllBtn" class="btn btn-secondary">Select All</button>
                            <button id="exportBtn" class="btn">Export Selected</button>
                            <button id="bulkActionBtn" class="btn btn-success">Bulk Actions</button>
                        </div>
                    </div>
                </div>

                <!-- Employee Data Table -->
                <div class="card full-width">
                    <h2>Employee Management Table</h2>
                    <div class="table-container">
                        <table id="employeeTable" class="data-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllTable"></th>
                                    <th data-sort="name">Name <span class="sort-indicator">↕</span></th>
                                    <th data-sort="department">Department <span class="sort-indicator">↕</span></th>
                                    <th data-sort="position">Position <span class="sort-indicator">↕</span></th>
                                    <th data-sort="startDate">Start Date <span class="sort-indicator">↕</span></th>
                                    <th data-sort="salary">Salary <span class="sort-indicator">↕</span></th>
                                    <th data-sort="status">Status <span class="sort-indicator">↕</span></th>
                                    <th data-sort="experience">Experience <span class="sort-indicator">↕</span></th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Project Tracking Tab -->
            <div id="projects" class="tab-content">
                <div class="card full-width">
                    <h2>Project Management Board</h2>
                    <div class="kanban-board">
                        <div class="kanban-column" data-status="todo">
                            <div class="kanban-header">To Do</div>
                            <div class="kanban-item" draggable="true" data-project-id="1">
                                <strong>Website Redesign</strong><br>
                                <small>Due: 2024-03-15</small>
                            </div>
                            <div class="kanban-item" draggable="true" data-project-id="2">
                                <strong>Mobile App Development</strong><br>
                                <small>Due: 2024-04-01</small>
                            </div>
                            <div class="kanban-item" draggable="true" data-project-id="3">
                                <strong>Database Migration</strong><br>
                                <small>Due: 2024-02-28</small>
                            </div>
                        </div>
                        <div class="kanban-column" data-status="inprogress">
                            <div class="kanban-header">In Progress</div>
                            <div class="kanban-item" draggable="true" data-project-id="4">
                                <strong>API Documentation</strong><br>
                                <small>Due: 2024-03-10</small>
                            </div>
                            <div class="kanban-item" draggable="true" data-project-id="5">
                                <strong>Security Audit</strong><br>
                                <small>Due: 2024-03-20</small>
                            </div>
                        </div>
                        <div class="kanban-column" data-status="done">
                            <div class="kanban-header">Done</div>
                            <div class="kanban-item" draggable="true" data-project-id="6">
                                <strong>User Authentication</strong><br>
                                <small>Completed: 2024-02-15</small>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <button id="addProjectBtn" class="btn">Add New Project</button>
                        <button id="filterProjectsBtn" class="btn btn-secondary">Filter Projects</button>
                        <button id="exportProjectsBtn" class="btn btn-success">Export Data</button>
                    </div>
                </div>
            </div>

            <!-- Calendar Tab -->
            <div id="calendar" class="tab-content">
                <div class="main-content">
                    <div class="card">
                        <h2>Event Calendar</h2>
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button class="calendar-nav" id="prevMonth">‹</button>
                                <h3 id="currentMonth">February 2024</h3>
                                <button class="calendar-nav" id="nextMonth">›</button>
                            </div>
                            <div class="calendar-grid">
                                <div class="calendar-weekday">Sun</div>
                                <div class="calendar-weekday">Mon</div>
                                <div class="calendar-weekday">Tue</div>
                                <div class="calendar-weekday">Wed</div>
                                <div class="calendar-weekday">Thu</div>
                                <div class="calendar-weekday">Fri</div>
                                <div class="calendar-weekday">Sat</div>
                                <!-- Calendar days will be generated by JavaScript -->
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <button id="todayBtn" class="btn btn-secondary">Go to Today</button>
                            <button id="addEventBtn" class="btn">Add Event</button>
                        </div>
                    </div>

                    <div class="card">
                        <h2>Event Details</h2>
                        <div id="eventDetails">
                            <p>Select a date to view or add events</p>
                        </div>
                        
                        <form id="eventForm" style="display: none;">
                            <div class="form-group">
                                <label for="eventTitle">Event Title</label>
                                <input type="text" id="eventTitle" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="eventDate">Event Date</label>
                                <input type="date" id="eventDate" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="eventTime">Event Time</label>
                                <input type="time" id="eventTime" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="eventCategory">Category</label>
                                <select id="eventCategory" class="form-control">
                                    <option value="meeting">Meeting</option>
                                    <option value="deadline">Deadline</option>
                                    <option value="training">Training</option>
                                    <option value="holiday">Holiday</option>
                                    <option value="personal">Personal</option>
                                </select>
                            </div>
                            <button type="submit" class="btn">Save Event</button>
                            <button type="button" id="cancelEventBtn" class="btn btn-secondary">Cancel</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <div class="card full-width">
                    <h2>Analytics Dashboard</h2>
                    <div class="main-content">
                        <div class="card">
                            <h3>Department Statistics</h3>
                            <div id="departmentChart" style="height: 200px; background: #f8f9fa; border-radius: 4px; display: flex; align-items: center; justify-content: center;">
                                <p>Department Distribution Chart</p>
                            </div>
                            <div style="margin-top: 15px;">
                                <button id="refreshChartBtn" class="btn btn-secondary">Refresh Data</button>
                                <button id="exportChartBtn" class="btn">Export Chart</button>
                            </div>
                        </div>

                        <div class="card">
                            <h3>Performance Metrics</h3>
                            <div class="form-group">
                                <label for="metricType">Metric Type</label>
                                <select id="metricType" class="form-control">
                                    <option value="productivity">Productivity</option>
                                    <option value="satisfaction">Job Satisfaction</option>
                                    <option value="retention">Employee Retention</option>
                                    <option value="performance">Performance Review</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="timeRange">Time Range</label>
                                <select id="timeRange" class="form-control">
                                    <option value="week">Last Week</option>
                                    <option value="month">Last Month</option>
                                    <option value="quarter">Last Quarter</option>
                                    <option value="year">Last Year</option>
                                </select>
                            </div>
                            
                            <div class="progress-bar">
                                <div class="progress-fill" id="metricProgress" style="width: 75%;"></div>
                            </div>
                            <p><span id="metricValue">75%</span> - Above Average</p>
                            
                            <button id="generateReportBtn" class="btn">Generate Report</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div id="advancedModal" class="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <h2>Advanced Employee Settings</h2>
                <form id="advancedForm">
                    <div class="form-group">
                        <label for="emergencyContact">Emergency Contact</label>
                        <input type="text" id="emergencyContact" class="form-control" placeholder="Full name">
                    </div>
                    <div class="form-group">
                        <label for="emergencyPhone">Emergency Phone</label>
                        <input type="tel" id="emergencyPhone" class="form-control" placeholder="(555) 123-4567">
                    </div>
                    <div class="form-group">
                        <label for="securityClearance">Security Clearance Level</label>
                        <select id="securityClearance" class="form-control">
                            <option value="">No Clearance</option>
                            <option value="confidential">Confidential</option>
                            <option value="secret">Secret</option>
                            <option value="topsecret">Top Secret</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Remote Work Authorization</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="remoteFullTime" name="remoteAuth" value="fulltime">
                                <label for="remoteFullTime">Full-time Remote</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remoteHybrid" name="remoteAuth" value="hybrid">
                                <label for="remoteHybrid">Hybrid (2-3 days)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remoteOccasional" name="remoteAuth" value="occasional">
                                <label for="remoteOccasional">Occasional Remote</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn">Save Advanced Settings</button>
                    <button type="button" id="closeModalBtn" class="btn btn-secondary">Close</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Sample employee data with enhanced properties
        let employees = [
            { id: 1, name: "John Smith", department: "engineering", position: "Senior Developer", startDate: "2022-01-15", salary: 95000, status: "active", email: "john.smith@company.com", experience: "senior", skills: ["javascript", "python", "aws"] },
            { id: 2, name: "Sarah Johnson", department: "marketing", position: "Marketing Manager", startDate: "2021-03-22", salary: 78000, status: "active", email: "sarah.johnson@company.com", experience: "mid", skills: ["agile", "projectmgmt"] },
            { id: 3, name: "Michael Brown", department: "sales", position: "Sales Representative", startDate: "2023-02-10", salary: 65000, status: "active", email: "michael.brown@company.com", experience: "junior", skills: ["agile"] },
            { id: 4, name: "Emily Davis", department: "hr", position: "HR Specialist", startDate: "2020-11-05", salary: 72000, status: "active", email: "emily.davis@company.com", experience: "mid", skills: ["projectmgmt"] },
            { id: 5, name: "David Wilson", department: "finance", position: "Financial Analyst", startDate: "2022-07-18", salary: 82000, status: "inactive", email: "david.wilson@company.com", experience: "mid", skills: ["python"] },
            { id: 6, name: "Lisa Anderson", department: "operations", position: "Operations Manager", startDate: "2019-09-12", salary: 88000, status: "active", email: "lisa.anderson@company.com", experience: "senior", skills: ["agile", "projectmgmt"] },
            { id: 7, name: "Robert Taylor", department: "engineering", position: "DevOps Engineer", startDate: "2023-01-08", salary: 92000, status: "pending", email: "robert.taylor@company.com", experience: "mid", skills: ["aws", "python"] },
            { id: 8, name: "Jennifer Martinez", department: "marketing", position: "Content Specialist", startDate: "2022-05-30", salary: 58000, status: "active", email: "jennifer.martinez@company.com", experience: "junior", skills: ["design"] },
            { id: 9, name: "Christopher Lee", department: "sales", position: "Sales Manager", startDate: "2021-08-14", salary: 95000, status: "active", email: "christopher.lee@company.com", experience: "senior", skills: ["agile", "projectmgmt"] },
            { id: 10, name: "Amanda White", department: "hr", position: "Recruiter", startDate: "2023-03-25", salary: 68000, status: "active", email: "amanda.white@company.com", experience: "junior", skills: ["projectmgmt"] },
            { id: 11, name: "James Garcia", department: "finance", position: "Accountant", startDate: "2020-12-01", salary: 75000, status: "active", email: "james.garcia@company.com", experience: "mid", skills: ["python"] },
            { id: 12, name: "Michelle Rodriguez", department: "operations", position: "Project Coordinator", startDate: "2022-09-07", salary: 62000, status: "inactive", email: "michelle.rodriguez@company.com", experience: "junior", skills: ["agile", "projectmgmt"] },
            { id: 13, name: "Kevin Thompson", department: "engineering", position: "Frontend Developer", startDate: "2023-04-12", salary: 85000, status: "active", email: "kevin.thompson@company.com", experience: "mid", skills: ["javascript", "design"] },
            { id: 14, name: "Nicole Harris", department: "marketing", position: "Digital Marketing Specialist", startDate: "2021-10-20", salary: 64000, status: "active", email: "nicole.harris@company.com", experience: "mid", skills: ["design"] },
            { id: 15, name: "Daniel Clark", department: "sales", position: "Account Executive", startDate: "2022-11-15", salary: 71000, status: "pending", email: "daniel.clark@company.com", experience: "junior", skills: ["agile"] },
            { id: 16, name: "Rachel Lewis", department: "hr", position: "HR Manager", startDate: "2019-06-08", salary: 89000, status: "active", email: "rachel.lewis@company.com", experience: "senior", skills: ["projectmgmt", "agile"] },
            { id: 17, name: "Mark Walker", department: "finance", position: "Senior Financial Analyst", startDate: "2021-01-25", salary: 94000, status: "active", email: "mark.walker@company.com", experience: "senior", skills: ["python", "aws"] },
            { id: 18, name: "Stephanie Hall", department: "operations", position: "Quality Assurance Specialist", startDate: "2022-08-03", salary: 67000, status: "active", email: "stephanie.hall@company.com", experience: "mid", skills: ["agile"] },
            { id: 19, name: "Andrew Young", department: "engineering", position: "Backend Developer", startDate: "2023-02-28", salary: 88000, status: "active", email: "andrew.young@company.com", experience: "mid", skills: ["python", "aws"] },
            { id: 20, name: "Melissa King", department: "marketing", position: "Brand Manager", startDate: "2020-04-16", salary: 81000, status: "inactive", email: "melissa.king@company.com", experience: "senior", skills: ["design", "projectmgmt"] },
            { id: 21, name: "Ryan Wright", department: "sales", position: "Business Development Representative", startDate: "2023-05-10", salary: 59000, status: "active", email: "ryan.wright@company.com", experience: "junior", skills: ["agile"] },
            { id: 22, name: "Laura Lopez", department: "hr", position: "Benefits Administrator", startDate: "2021-12-08", salary: 63000, status: "active", email: "laura.lopez@company.com", experience: "mid", skills: ["projectmgmt"] },
            { id: 23, name: "Brian Hill", department: "finance", position: "Budget Analyst", startDate: "2022-03-14", salary: 77000, status: "pending", email: "brian.hill@company.com", experience: "mid", skills: ["python"] },
            { id: 24, name: "Kimberly Green", department: "operations", position: "Supply Chain Coordinator", startDate: "2021-07-22", salary: 69000, status: "active", email: "kimberly.green@company.com", experience: "mid", skills: ["agile", "projectmgmt"] },
            { id: 25, name: "Justin Adams", department: "engineering", position: "Software Architect", startDate: "2019-11-30", salary: 115000, status: "active", email: "justin.adams@company.com", experience: "senior", skills: ["javascript", "python", "aws", "agile"] },
            { id: 26, name: "Alexandra Chen", department: "design", position: "UX Designer", startDate: "2022-06-01", salary: 85000, status: "active", email: "alexandra.chen@company.com", experience: "mid", skills: ["design", "javascript"] },
            { id: 27, name: "Thomas Wilson", department: "legal", position: "Legal Counsel", startDate: "2020-08-15", salary: 125000, status: "active", email: "thomas.wilson@company.com", experience: "senior", skills: ["projectmgmt"] },
            { id: 28, name: "Maria Gonzalez", department: "design", position: "Graphic Designer", startDate: "2023-01-20", salary: 62000, status: "active", email: "maria.gonzalez@company.com", experience: "junior", skills: ["design"] }
        ];

        let filteredEmployees = [...employees];
        let selectedEmployees = new Set();
        let currentSort = { column: null, direction: 'asc' };
        let currentDate = new Date();
        let selectedDate = null;
        let events = {};

        // Position suggestions for autocomplete
        const positionSuggestions = [
            "Software Engineer", "Senior Developer", "DevOps Engineer", "Frontend Developer", "Backend Developer",
            "Full Stack Developer", "Software Architect", "Technical Lead", "Engineering Manager",
            "Marketing Manager", "Digital Marketing Specialist", "Content Specialist", "Brand Manager", "SEO Specialist",
            "Sales Representative", "Account Executive", "Sales Manager", "Business Development Representative",
            "HR Specialist", "HR Manager", "Recruiter", "Benefits Administrator", "Talent Acquisition",
            "Financial Analyst", "Senior Financial Analyst", "Accountant", "Budget Analyst", "Controller",
            "Operations Manager", "Project Coordinator", "Quality Assurance Specialist", "Supply Chain Coordinator",
            "UX Designer", "UI Designer", "Graphic Designer", "Product Designer", "Creative Director",
            "Legal Counsel", "Paralegal", "Compliance Officer", "Contract Manager"
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            renderEmployeeList();
            renderEmployeeTable();
            setupEventListeners();
            setupTabNavigation();
            setupAutocomplete();
            setupModal();
            setupDragAndDrop();
            renderCalendar();
        });

        function setupEventListeners() {
            // Search and filter functionality
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            document.getElementById('departmentFilter').addEventListener('change', handleFilter);
            document.getElementById('statusFilter').addEventListener('change', handleFilter);
            document.getElementById('experienceFilter').addEventListener('change', handleFilter);

            // Form submission
            document.getElementById('employeeForm').addEventListener('submit', handleFormSubmit);

            // Table sorting
            document.querySelectorAll('[data-sort]').forEach(header => {
                header.addEventListener('click', handleSort);
            });

            // Select functionality
            document.getElementById('selectAllBtn').addEventListener('click', handleSelectAll);
            document.getElementById('selectAllTable').addEventListener('change', handleSelectAllTable);
            document.getElementById('exportBtn').addEventListener('click', handleExport);
            document.getElementById('bulkActionBtn').addEventListener('click', handleBulkAction);

            // Salary range slider
            document.getElementById('salaryRange').addEventListener('input', updateSalaryValue);

            // Calendar navigation
            document.getElementById('prevMonth').addEventListener('click', () => navigateMonth(-1));
            document.getElementById('nextMonth').addEventListener('click', () => navigateMonth(1));
            document.getElementById('todayBtn').addEventListener('click', goToToday);
            document.getElementById('addEventBtn').addEventListener('click', showEventForm);
            document.getElementById('cancelEventBtn').addEventListener('click', hideEventForm);
            document.getElementById('eventForm').addEventListener('submit', handleEventSubmit);

            // Project management
            document.getElementById('addProjectBtn').addEventListener('click', addNewProject);
            document.getElementById('filterProjectsBtn').addEventListener('click', filterProjects);
            document.getElementById('exportProjectsBtn').addEventListener('click', exportProjects);

            // Reports
            document.getElementById('metricType').addEventListener('change', updateMetric);
            document.getElementById('timeRange').addEventListener('change', updateMetric);
            document.getElementById('generateReportBtn').addEventListener('click', generateReport);
            document.getElementById('refreshChartBtn').addEventListener('click', refreshChart);
            document.getElementById('exportChartBtn').addEventListener('click', exportChart);
        }

        function setupTabNavigation() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    // Remove active class from all tabs and contents
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Add active class to clicked tab and corresponding content
                    button.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        function setupAutocomplete() {
            const positionInput = document.getElementById('position');
            const suggestionsContainer = document.getElementById('positionSuggestions');

            positionInput.addEventListener('input', (e) => {
                const value = e.target.value.toLowerCase();
                const suggestions = positionSuggestions.filter(pos => 
                    pos.toLowerCase().includes(value)
                ).slice(0, 5);

                if (value && suggestions.length > 0) {
                    suggestionsContainer.innerHTML = suggestions.map(suggestion => 
                        `<div class="autocomplete-suggestion">${suggestion}</div>`
                    ).join('');
                    suggestionsContainer.style.display = 'block';

                    // Add click handlers to suggestions
                    suggestionsContainer.querySelectorAll('.autocomplete-suggestion').forEach(item => {
                        item.addEventListener('click', () => {
                            positionInput.value = item.textContent;
                            suggestionsContainer.style.display = 'none';
                        });
                    });
                } else {
                    suggestionsContainer.style.display = 'none';
                }
            });

            // Hide suggestions when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.autocomplete-container')) {
                    suggestionsContainer.style.display = 'none';
                }
            });
        }

        function setupModal() {
            const modal = document.getElementById('advancedModal');
            const openBtn = document.getElementById('openModalBtn');
            const closeBtn = document.querySelector('.modal-close');
            const closeModalBtn = document.getElementById('closeModalBtn');

            openBtn.addEventListener('click', (e) => {
                e.preventDefault();
                modal.style.display = 'block';
            });

            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            closeModalBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            document.getElementById('advancedForm').addEventListener('submit', (e) => {
                e.preventDefault();
                showNotification('Advanced settings saved successfully!', 'success');
                modal.style.display = 'none';
            });
        }

        function setupDragAndDrop() {
            const kanbanItems = document.querySelectorAll('.kanban-item');
            const kanbanColumns = document.querySelectorAll('.kanban-column');

            kanbanItems.forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', e.target.dataset.projectId);
                    e.target.classList.add('dragging');
                });

                item.addEventListener('dragend', (e) => {
                    e.target.classList.remove('dragging');
                });
            });

            kanbanColumns.forEach(column => {
                column.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });

                column.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const projectId = e.dataTransfer.getData('text/plain');
                    const draggedElement = document.querySelector(`[data-project-id="${projectId}"]`);
                    const newStatus = column.dataset.status;
                    
                    if (draggedElement && !column.contains(draggedElement)) {
                        column.appendChild(draggedElement);
                        showNotification(`Project moved to ${newStatus}`, 'success');
                    }
                });
            });
        }

        function updateSalaryValue() {
            const slider = document.getElementById('salaryRange');
            const valueDisplay = document.getElementById('salaryValue');
            const value = parseInt(slider.value);
            valueDisplay.textContent = `$${(value / 1000)}K`;
        }

        function handleSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const departmentFilter = document.getElementById('departmentFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const experienceFilter = document.getElementById('experienceFilter').value;

            filteredEmployees = employees.filter(employee => {
                const matchesSearch = employee.name.toLowerCase().includes(searchTerm) ||
                                    employee.department.toLowerCase().includes(searchTerm) ||
                                    employee.position.toLowerCase().includes(searchTerm) ||
                                    employee.email.toLowerCase().includes(searchTerm);
                const matchesDepartment = !departmentFilter || employee.department === departmentFilter;
                const matchesStatus = !statusFilter || employee.status === statusFilter;
                const matchesExperience = !experienceFilter || employee.experience === experienceFilter;

                return matchesSearch && matchesDepartment && matchesStatus && matchesExperience;
            });

            renderEmployeeList();
            renderEmployeeTable();
        }

        function handleFilter() {
            handleSearch();
        }

        function renderEmployeeList() {
            const listContainer = document.getElementById('employeeList');
            listContainer.innerHTML = '';

            filteredEmployees.forEach(employee => {
                const listItem = document.createElement('div');
                listItem.className = `list-item ${selectedEmployees.has(employee.id) ? 'selected' : ''}`;
                listItem.dataset.employeeId = employee.id;

                listItem.innerHTML = `
                    <div class="employee-info">
                        <div class="employee-name">${employee.name}</div>
                        <div class="employee-details">${employee.position} • ${employee.department} • ${employee.email} • ${employee.experience} level</div>
                    </div>
                    <div class="status-badge status-${employee.status}">${employee.status.toUpperCase()}</div>
                `;

                listItem.addEventListener('click', () => toggleEmployeeSelection(employee.id));
                listContainer.appendChild(listItem);
            });
        }

        function renderEmployeeTable() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';

            filteredEmployees.forEach(employee => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><input type="checkbox" class="row-checkbox" data-employee-id="${employee.id}" ${selectedEmployees.has(employee.id) ? 'checked' : ''}></td>
                    <td>${employee.name}</td>
                    <td>${employee.department}</td>
                    <td>${employee.position}</td>
                    <td>${employee.startDate}</td>
                    <td>$${employee.salary.toLocaleString()}</td>
                    <td><span class="status-badge status-${employee.status}">${employee.status.toUpperCase()}</span></td>
                    <td>${employee.experience}</td>
                    <td>
                        <button class="btn btn-secondary" onclick="editEmployee(${employee.id})">Edit</button>
                        <button class="btn btn-danger" onclick="deleteEmployee(${employee.id})">Delete</button>
                    </td>
                `;
                
                // Add event listener for row checkbox
                const checkbox = row.querySelector('.row-checkbox');
                checkbox.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        selectedEmployees.add(employee.id);
                    } else {
                        selectedEmployees.delete(employee.id);
                    }
                    renderEmployeeList();
                    updateSelectAllCheckbox();
                });
                
                tableBody.appendChild(row);
            });
        }

        function toggleEmployeeSelection(employeeId) {
            if (selectedEmployees.has(employeeId)) {
                selectedEmployees.delete(employeeId);
            } else {
                selectedEmployees.add(employeeId);
            }
            renderEmployeeList();
            renderEmployeeTable();
            updateSelectAllCheckbox();
        }

        function handleSelectAll() {
            if (selectedEmployees.size === filteredEmployees.length) {
                selectedEmployees.clear();
            } else {
                filteredEmployees.forEach(employee => selectedEmployees.add(employee.id));
            }
            renderEmployeeList();
            renderEmployeeTable();
            updateSelectAllCheckbox();
        }

        function handleSelectAllTable() {
            const selectAllCheckbox = document.getElementById('selectAllTable');
            if (selectAllCheckbox.checked) {
                filteredEmployees.forEach(employee => selectedEmployees.add(employee.id));
            } else {
                selectedEmployees.clear();
            }
            renderEmployeeList();
            renderEmployeeTable();
        }

        function updateSelectAllCheckbox() {
            const selectAllCheckbox = document.getElementById('selectAllTable');
            selectAllCheckbox.checked = selectedEmployees.size === filteredEmployees.length && filteredEmployees.length > 0;
        }

        function handleSort(event) {
            const column = event.target.dataset.sort;
            if (currentSort.column === column) {
                currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort.column = column;
                currentSort.direction = 'asc';
            }

            filteredEmployees.sort((a, b) => {
                let aValue = a[column];
                let bValue = b[column];

                if (column === 'salary') {
                    aValue = parseInt(aValue);
                    bValue = parseInt(bValue);
                } else if (column === 'startDate') {
                    aValue = new Date(aValue);
                    bValue = new Date(bValue);
                } else {
                    aValue = aValue.toString().toLowerCase();
                    bValue = bValue.toString().toLowerCase();
                }

                if (currentSort.direction === 'asc') {
                    return aValue > bValue ? 1 : -1;
                } else {
                    return aValue < bValue ? 1 : -1;
                }
            });

            // Update sort indicators
            document.querySelectorAll('.sort-indicator').forEach(indicator => {
                indicator.textContent = '↕';
            });
            event.target.querySelector('.sort-indicator').textContent = currentSort.direction === 'asc' ? '↑' : '↓';

            renderEmployeeList();
            renderEmployeeTable();
        }

        function handleExport() {
            const selectedData = employees.filter(emp => selectedEmployees.has(emp.id));
            if (selectedData.length === 0) {
                showNotification('Please select employees to export', 'error');
                return;
            }
            
            const csvContent = "data:text/csv;charset=utf-8," + 
                "Name,Department,Position,Start Date,Salary,Status,Email,Experience,Skills\n" +
                selectedData.map(emp => `${emp.name},${emp.department},${emp.position},${emp.startDate},${emp.salary},${emp.status},${emp.email},${emp.experience},"${emp.skills.join(', ')}"`).join("\n");
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "selected_employees.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification(`${selectedData.length} employees exported successfully!`, 'success');
        }

        function handleBulkAction() {
            if (selectedEmployees.size === 0) {
                showNotification('Please select employees for bulk action', 'error');
                return;
            }
            
            const action = prompt('Enter bulk action (promote, relocate, update-status):');
            if (action) {
                showNotification(`Bulk action "${action}" applied to ${selectedEmployees.size} employees`, 'success');
            }
        }

        function handleFormSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const skills = Array.from(document.querySelectorAll('input[name="skills"]:checked')).map(cb => cb.value);
            
            const newEmployee = {
                id: employees.length + 1,
                name: `${formData.get('firstName')} ${formData.get('lastName')}`,
                department: formData.get('department'),
                position: formData.get('position'),
                startDate: formData.get('startDate'),
                salary: parseInt(document.getElementById('salaryRange').value),
                status: 'pending',
                email: formData.get('email'),
                experience: 'junior',
                skills: skills
            };

            employees.push(newEmployee);
            filteredEmployees = [...employees];
            renderEmployeeList();
            renderEmployeeTable();
            event.target.reset();
            showNotification('Employee registered successfully!', 'success');
        }

        function editEmployee(id) {
            const employee = employees.find(emp => emp.id === id);
            if (employee) {
                showNotification(`Editing ${employee.name} - Feature would open edit modal`, 'success');
            }
        }

        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                employees = employees.filter(emp => emp.id !== id);
                filteredEmployees = [...employees];
                selectedEmployees.delete(id);
                renderEmployeeList();
                renderEmployeeTable();
                showNotification('Employee deleted successfully!', 'success');
            }
        }

        // Calendar Functions
        function renderCalendar() {
            const calendarGrid = document.querySelector('.calendar-grid');
            const monthYear = document.getElementById('currentMonth');
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            monthYear.textContent = new Intl.DateTimeFormat('en-US', { 
                month: 'long', 
                year: 'numeric' 
            }).format(currentDate);

            // Clear existing days (except weekday headers)
            const existingDays = calendarGrid.querySelectorAll('.calendar-day');
            existingDays.forEach(day => day.remove());

            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());

            for (let i = 0; i < 42; i++) {
                const currentDay = new Date(startDate);
                currentDay.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = currentDay.getDate();
                dayElement.dataset.date = currentDay.toISOString().split('T')[0];
                
                if (currentDay.getMonth() !== month) {
                    dayElement.classList.add('other-month');
                }
                
                if (selectedDate && currentDay.toISOString().split('T')[0] === selectedDate) {
                    dayElement.classList.add('selected');
                }
                
                dayElement.addEventListener('click', () => selectDate(currentDay.toISOString().split('T')[0]));
                calendarGrid.appendChild(dayElement);
            }
        }

        function navigateMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            renderCalendar();
        }

        function goToToday() {
            currentDate = new Date();
            renderCalendar();
        }

        function selectDate(date) {
            selectedDate = date;
            renderCalendar();
            updateEventDetails(date);
        }

        function updateEventDetails(date) {
            const eventDetails = document.getElementById('eventDetails');
            const dayEvents = events[date] || [];
            
            if (dayEvents.length > 0) {
                eventDetails.innerHTML = `
                    <h4>Events for ${new Date(date).toLocaleDateString()}</h4>
                    ${dayEvents.map(event => `
                        <div style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                            <strong>${event.title}</strong><br>
                            <small>${event.time} - ${event.category}</small>
                        </div>
                    `).join('')}
                `;
            } else {
                eventDetails.innerHTML = `<p>No events for ${new Date(date).toLocaleDateString()}</p>`;
            }
        }

        function showEventForm() {
            document.getElementById('eventForm').style.display = 'block';
            if (selectedDate) {
                document.getElementById('eventDate').value = selectedDate;
            }
        }

        function hideEventForm() {
            document.getElementById('eventForm').style.display = 'none';
        }

        function handleEventSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const eventDate = formData.get('eventDate');
            
            if (!events[eventDate]) {
                events[eventDate] = [];
            }
            
            events[eventDate].push({
                title: formData.get('eventTitle'),
                time: formData.get('eventTime'),
                category: formData.get('eventCategory')
            });
            
            event.target.reset();
            hideEventForm();
            updateEventDetails(eventDate);
            showNotification('Event added successfully!', 'success');
        }

        // Project Management Functions
        function addNewProject() {
            const projectName = prompt('Enter project name:');
            if (projectName) {
                const todoColumn = document.querySelector('[data-status="todo"]');
                const newProject = document.createElement('div');
                newProject.className = 'kanban-item';
                newProject.draggable = true;
                newProject.dataset.projectId = Date.now();
                newProject.innerHTML = `<strong>${projectName}</strong><br><small>Due: TBD</small>`;
                
                setupDragAndDropForItem(newProject);
                todoColumn.appendChild(newProject);
                showNotification('New project added!', 'success');
            }
        }

        function setupDragAndDropForItem(item) {
            item.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.dataset.projectId);
                e.target.classList.add('dragging');
            });

            item.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
            });
        }

        function filterProjects() {
            const filter = prompt('Filter projects by (due-date, category, assigned):');
            if (filter) {
                showNotification(`Filtering projects by ${filter}`, 'success');
            }
        }

        function exportProjects() {
            showNotification('Project data exported to CSV', 'success');
        }

        // Reports Functions
        function updateMetric() {
            const metricType = document.getElementById('metricType').value;
            const timeRange = document.getElementById('timeRange').value;
            const progress = document.getElementById('metricProgress');
            const value = document.getElementById('metricValue');
            
            // Simulate different values based on selection
            let percentage = Math.floor(Math.random() * 40) + 60; // 60-100%
            progress.style.width = `${percentage}%`;
            value.textContent = `${percentage}%`;
        }

        function generateReport() {
            showNotification('Comprehensive report generated and downloaded', 'success');
        }

        function refreshChart() {
            showNotification('Chart data refreshed', 'success');
        }

        function exportChart() {
            showNotification('Chart exported as PNG', 'success');
        }

        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>